{"version":3,"sources":["webpack://ReactContexify/webpack/universalModuleDefinition","webpack://ReactContexify/webpack/bootstrap","webpack://ReactContexify/external \"react\"","webpack://ReactContexify/./src/components/constants.ts","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useEffectOnce/index.js","webpack://ReactContexify/./src/components/VirtualList.tsx","webpack://ReactContexify/./src/index.ts","webpack://ReactContexify/./src/components/SizeAndPositionManager.ts","webpack://ReactContexify/./src/components/VirtualListContainer.tsx","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useActive/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useClickOutside/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useFocus/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useHover/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useMousePosition/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useResizeObserver/index.js","webpack://ReactContexify/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://ReactContexify/(webpack)/buildin/global.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useTouch/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useWindowResize/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useMount/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useUnmount/index.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useStateful.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useArray.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/array/useArray.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useMap.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/array/useMap.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/useHotkeys.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/arraysAreEqual.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/getActiveModifierKeys.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/getHotkeysArray.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/isSameSet.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/mapModifierKeys.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/modifierKeyPressed.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/tail.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/takeUntilLast.js","webpack://ReactContexify/./node_modules/@ishikawa_masashi/react-hooks/lib/usePrevious.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DIRECTION","ALIGNMENT","SCROLL_CHANGE_REASON","scrollProp","sizeProp","positionProp","VERTICAL","HORIZONTAL","marginProp","oppositeMarginProp","react_1","default","effect","useEffect","STYLE_WRAPPER","overflow","willChange","WebkitOverflowScrolling","STYLE_INNER","position","width","minHeight","STYLE_ITEM","top","left","STYLE_STICKY_ITEM","props","setState","estimatedItemSize","height","itemCount","itemSize","onItemsRendered","onScroll","overscanCount","renderItem","scrollDirection","scrollOffset","scrollToAlignment","scrollToIndex","stickyIndices","style","rest","forceUpdate","useState","rootNodeRef","useRef","styleCacheRef","itemCountRef","itemSizeGetter","index","Array","isArray","getSize","getEstimatedItemSize","sizeAndPositionManager","getOffsetForIndex","newScrollToAlignment","newItemCount","getUpdatedOffsetForIndex","align","containerSize","Number","currentOffset","offset","targetIndex","setOffset","REQUESTED","scrollChangeReason","setScrollChangeReason","scrollTo","current","handleScroll","event","newOffset","target","OBSERVED","addEventListener","passive","removeEventListener","recomputeSizes","startIndex","resetItem","updateConfig","getStyle","sticky","getSizeAndPositionForIndex","size","zIndex","getVisibleRange","start","stop","innerStyle","getTotalSize","items","useMemo","result","length","forEach","push","display","includes","stopIndex","wrapperStyle","ref","this","itemSizeAndPositionData","lastMeasuredIndex","getLastMeasuredIndex","Error","lastMeasuredSizeAndPosition","getSizeAndPositionOfLastMeasuredItem","isNaN","START","idealOffset","datum","maxOffset","minOffset","END","CENTER","Math","max","min","totalSize","findNearestItem","binarySearch","high","low","exponentialSearch","middle","floor","interval","containerRef","useResizeObserver","index_1","useActive","index_2","useClickOutside","index_3","useFocus","index_4","useHover","index_5","useMousePosition","index_6","index_7","useTouch","index_8","useWindowResize","index_9","useEffectOnce","index_10","useMount","index_11","useUnmount","useStateful_1","useStateful","useArray_1","useArray","useMap_1","useMap","useHotkeys_1","useHotkeys","usePrevious_1","usePrevious","_a","isActive","setActive","onMouseDown","e","onMouseUp","refs","onClickOutside","isOutside","useCallback","map","contains","every","Boolean","mousedown","mouseup","document","__importDefault","mod","isFocused","setFocused","onFocus","onBlur","isHovered","setHovered","onMouseEnter","onMouseLeave","x","setX","_b","y","setY","onMouseMove","nativeEvent","offsetX","offsetY","resize_observer_polyfill_1","setWidth","setHeight","useLayoutEffect","resizeObserver","entries","contentRect","observe","disconnect","MapShim","Map","getIndex","arr","some","entry","class_1","__entries__","configurable","set","delete","splice","has","clear","callback","ctx","_i","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","requestAnimationFrame","setTimeout","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","propertyName","getInstance","instance_","defineConfigurable","keys","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","right","vertPad","bottom","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","WeakMap","ResizeObserver","method","apply","g","isTouched","setTouched","onTouchStart","onTouchEnd","innerWidth","innerHeight","resize","useEffectOnce_1","fn","fnRef","initial","setValue","__assign","assign","actions","__spreadArrays","il","k","a","j","jl","v","unshift","pop","slice","shift","move","from","to","it","copy","removeById","id","removeIndex","modifyById","newValue","updateAt","item","insertAt","add","initialState","setMap","aMap","deleteByKey","_map","initialize","mapOrTuple","remove","arraysAreEqual_1","getActiveModifierKeys_1","getHotkeysArray_1","isSameSet_1","mapModifierKeys_1","modifierKeyPressed_1","tail_1","takeUntilLast_1","hotkeys","hotkeysArray","keySequences","sequenceTimers","clearSequenceTimer","clearTimeout","resetKeySequence","onKeydown","keysArray","actionKey","modKeys","activeModKeys","toLowerCase","handleModifierCombo","keySequence","handleKeySequence","arr1","arr2","modifiers","ctrlKey","shiftKey","altKey","metaKey","hkeys","replace","split","match","modiferKeyMap","control","alt","meta"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,UACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,SAAUJ,GACQ,iBAAZC,QACdA,QAAwB,eAAID,EAAQG,QAAQ,UAE5CJ,EAAqB,eAAIC,EAAQD,EAAY,OAR/C,CASGO,QAAQ,SAASC,GACpB,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,GAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,EAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAO,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,gBClFrDxC,EAAOD,QAAUM,G,uCCOLoC,E,gLAPZ,SAAYC,GACV,cACA,gBACA,kBACA,YAJF,CAAY,EAAAA,YAAA,EAAAA,UAAS,KAOrB,SAAYD,GACV,0BACA,sBAFF,CAAYA,EAAA,EAAAA,YAAA,EAAAA,UAAS,KAKrB,SAAYE,GACV,sBACA,wBAFF,CAAY,EAAAA,uBAAA,EAAAA,qBAAoB,KAehC,SAAYC,GACV,uBACA,0BAFF,CAAY,EAAAA,aAAA,EAAAA,WAAU,KAetB,SAAYC,GACV,oBACA,qBAFF,CAAY,EAAAA,WAAA,EAAAA,SAAQ,KAKP,EAAAC,eAAY,MACtBL,EAAUM,UAAW,MACtB,EAACN,EAAUO,YAAa,O,GAGb,EAAAC,aAAU,MACpBR,EAAUM,UAAW,YACtB,EAACN,EAAUO,YAAa,a,GAGb,EAAAE,qBAAkB,MAC5BT,EAAUM,UAAW,eACtB,EAACN,EAAUO,YAAa,c,iCC1D1B7B,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAItBpD,EAAQqD,QAHY,SAAUC,GAC1BF,EAAQG,UAAUD,EAAQ,M,quCCJ9B,cACA,OAEA,UACA,OAWA,OAAS,iFAAAZ,aAuDT,IAAMc,EAA+B,CACnCC,SAAU,OACVC,WAAY,YACZC,wBAAyB,SAGrBC,EAA6B,CACjCC,SAAU,WACVC,MAAO,OACPC,UAAW,QAGPC,EAKF,CACFH,SAAU,WACVI,IAAK,EACLC,KAAM,EACNJ,MAAO,QAGHK,EAAoB,EAAH,KAClBH,GAAU,CACbH,SAAU,WAGZ,mBAAoCO,G,MAqBvBC,EAnBTC,EAgBEF,EAAK,kBAfPG,EAeEH,EAAK,OAdPI,EAcEJ,EAAK,UAbPK,EAaEL,EAAK,SAZPM,EAYEN,EAAK,gBAXPO,EAWEP,EAAK,SAVP,EAUEA,EAAK,cAVPQ,OAAa,IAAG,IAAC,EACjBC,EASET,EAAK,WARP,EAQEA,EAAK,gBARPU,OAAe,IAAG,IAAApC,UAAUM,SAAQ,EACpC+B,EAOEX,EAAK,aANPY,EAMEZ,EAAK,kBALPa,EAKEb,EAAK,cAJPc,EAIEd,EAAK,cAHPe,EAGEf,EAAK,MAFP,EAEEA,EAAK,MAFPN,OAAK,IAAG,SAAM,EACXsB,EAAI,EACLhB,EAjBE,sNAwBAiB,GAJKhB,EAAY,EAAAiB,WAAJ,GACV,WAAM,OAAAjB,EAAS,MAKlBkB,EAAc,EAAAC,OAAuB,MACrCC,EAAgB,EAAAD,OAAmB,IAEnCE,EAAe,EAAAF,OAAO,GAUtBG,EAAiB,SAAClB,GACtB,OAAO,SAACmB,GAAkB,OATZ,SAACA,EAAenB,GAC9B,MAAwB,mBAAbA,EACFA,EAASmB,GAGXC,MAAMC,QAAQrB,GAAYA,EAASmB,GAASnB,EAIzBsB,CAAQH,EAAOnB,KAGrCuB,EAAuB,WAC3B,OACE1B,GAA0C,iBAAbG,GAAyBA,GAAa,IAGjEwB,EAAyB,IAAI,UAAuB,CACxDzB,UAAWA,EACXmB,eAAgBA,EAAelB,GAC/BH,kBAAmB0B,MAGfE,EAAoB,SACxBN,EACAO,EACAC,GAMA,YAPA,IAAAD,MAAA,QACA,IAAAC,MAAA,IAEIR,EAAQ,GAAKA,GAASQ,KACxBR,EAAQ,GAGHK,EAAuBI,yBAAyB,CACrDC,MAAOH,EACPI,cAAeC,OAAOpC,EAAM,EAAAtB,SAASgC,KACrC2B,cAAeC,GAAU,EACzBC,YAAaf,KAIX,EAAsB,EAAAN,SAC1BP,GACoB,MAAjBE,GAAyBiB,EAAkBjB,IAC5C,GAHGyB,EAAM,KAAEE,EAAS,KAKlB,EAA8C,EAAAtB,SAClD,EAAA1C,qBAAqBiE,WADhBC,EAAkB,KAAEC,EAAqB,KAI1CC,EAAW,SAACrF,GACZ4D,EAAY0B,UACd1B,EAAY0B,QAAQ,EAAApE,WAAWiC,IAAoBnD,IAiCjDuF,EAAe,SAACC,GACpB,IAAMC,EA7BF7B,EAAY0B,QACP1B,EAAY0B,QAAQ,EAAApE,WAAWiC,IAEjC,EA8BLsC,EAAY,GAEZD,EAAME,SAAW9B,EAAY0B,UAS/BF,EAAsB,EAAAnE,qBAAqB0E,UAC3CV,EAAUQ,GAEc,mBAAbzC,GACTA,EAASyC,EAAWD,KAIxB,EAAA5D,WAAU,WAWR,OAVIgC,EAAY0B,SACd1B,EAAY0B,QAAQM,iBAAiB,SAAUL,EAAc,CAC3DM,SAAS,IAGO,MAAhBzC,EACFiC,EAASjC,GACiB,MAAjBE,GACT+B,EAASd,EAAkBjB,IAEtB,WACDM,EAAY0B,SACd1B,EAAY0B,QAAQQ,oBAAoB,SAAUP,MAGrD,IAEH,IAAMQ,EAAiB,SAACC,QAAA,IAAAA,MAAA,GACtBlC,EAAcwB,QAAU,GACxBhB,EAAuB2B,UAAUD,IAGnC,EAAApE,WAAU,WACR0C,EAAuB4B,aAAa,CAClClC,eAAgBA,EAAelB,KAEjCiD,MACC,CAACjD,EAAUiD,EAAgB/B,EAAgBM,IAE9C,EAAA1C,WAAU,WACRwD,EAAsB,EAAAnE,qBAAqBiE,WAC3CD,EAAU7B,GAAgB,KACzB,CAACA,IAEJ,EAAAxB,WAAU,WACR0C,EAAuB4B,aAAa,CAClCrD,UAAS,EACTF,kBAAmB0B,MAGrB0B,IAEArC,MACC,CAACb,EAAWU,IAEf,EAAA3B,WAAU,WAIqB,iBAAlB0B,IACT2B,EAAUV,EAAkBjB,EAAeD,EAAmBR,IAC9DuC,EAAsB,EAAAnE,qBAAqBiE,cAM5C,CAAC5B,EAAeD,IAEnB,EAAAzB,WAAU,WACJuD,IAAuB,EAAAlE,qBAAqBiE,WAC9CG,EAASN,KAEV,CAACA,IAEJ,IAAMoB,EAAW,SAAClC,EAAemC,G,QACzB5C,EAAQM,EAAcwB,QAAQrB,GAEpC,GAAIT,EACF,OAAOA,EAGH,MAAmBc,EAAuB+B,2BAC9CpC,GADMqC,EAAI,OAAEvB,EAAM,SAIpB,OAAQjB,EAAcwB,QAAQrB,GAASmC,EACnC,EAAD,KACM5D,KAAiB,MACnB,EAAArB,SAASgC,IAAmBmD,EAAI,EAGhC,EAAA/E,WAAW4B,IAAmB4B,EAAM,EACpC,EAAAvD,mBAAmB2B,MAAqB4B,EAASuB,GAClD,EAAAC,OAAQ,EAAC,IAEX,EAAD,KACMlE,KAAU,MACZ,EAAAlB,SAASgC,IAAmBmD,EAAI,EAChC,EAAAlF,aAAa+B,IAAmB4B,EAAM,KAI3ChB,EAAauB,UAAYzC,IAC3ByB,EAAuB4B,aAAa,CAClCrD,UAAS,EACTF,kBAAmB0B,MAGrB0B,IACAhC,EAAauB,QAAUzC,GAEnB,MAAkByB,EAAuBkC,gBAAgB,CAC7D5B,cAAeC,OAAOpC,EAAM,EAAAtB,SAASgC,MAAsB,EAC3D4B,OAAM,EACN9B,cAAa,IAHPwD,EAAK,QAAEC,EAAI,OAObC,EAAa,EAAH,KACX1E,KAAW,MACb,EAAAd,SAASgC,IAAmBmB,EAAuBsC,eAAc,IAG9DC,GAAQ,EAAAC,SAAQ,WACpB,IAAMC,EAA4B,GAgBlC,GAfqB,MAAjBxD,GAAkD,IAAzBA,EAAcyD,SACzCzD,EAAc0D,SAAQ,SAAChD,GACrB,OAAA8C,EAAOG,KACLhE,EAAW,CACTe,MAAK,EACLT,MAAO2C,EAASlC,GAAO,SAKzBd,IAAoB,EAAApC,UAAUO,aAChCqF,EAAWQ,QAAU,cAIJ,IAAVV,QAAyC,IAATC,EAAsB,CAC/D,IAAK,IAAIzC,EAAQwC,EAAOxC,GAASyC,EAAMzC,IAChB,MAAjBV,GAAyBA,EAAc6D,SAASnD,IAIpD8C,EAAOG,KACLhE,EAAW,CACTe,MAAK,EACLT,MAAO2C,EAASlC,GAAO,MAKE,mBAApBlB,GACTA,EAAgB,CACdiD,WAAYS,EACZY,UAAWX,IAIjB,OAAOK,IACN,CACDN,EACAC,EACAP,EACAjD,EACAC,EACAwD,EAAWQ,QACX5D,EACAR,IAGIuE,GAAe,EAAH,OAAQzF,GAAkB2B,GAAK,CAAEZ,OAAM,EAAET,MAAK,IAChE,OACE,yBAAKoF,IAAK3D,GAAiBH,EAAI,CAAED,MAAO8D,KACtC,uBAAK9D,MAAOmD,GAAaE,O,8ECvZ/B,WAAS,6EAAAnF,WACT,WAAS,sFAAAA,WAET,WAAS,2EAAAV,c,8ECHT,WAoBA,aAOE,WAAY,G,IAAE6B,EAAS,YAAEmB,EAAc,iBAAErB,EAAiB,oBACxD6E,KAAKxD,eAAiBA,EACtBwD,KAAK3E,UAAYA,EACjB2E,KAAK7E,kBAAoBA,EAGzB6E,KAAKC,wBAA0B,GAG/BD,KAAKE,mBAAqB,EAiR9B,OA9QE,YAAAxB,aAAA,SAAa,G,IACXrD,EAAS,YACTmB,EAAc,iBACdrB,EAAiB,oBAEA,MAAbE,IACF2E,KAAK3E,UAAYA,GAGM,MAArBF,IACF6E,KAAK7E,kBAAoBA,GAGL,MAAlBqB,IACFwD,KAAKxD,eAAiBA,IAI1B,YAAA2D,qBAAA,WACE,OAAOH,KAAKE,mBAOd,YAAArB,2BAAA,SAA2BpC,GACzB,GAAIA,EAAQ,GAAKA,GAASuD,KAAK3E,UAC7B,MAAM+E,MACJ,mBAAmB3D,EAAK,2BAA2BuD,KAAK3E,WAI5D,GAAIoB,EAAQuD,KAAKE,kBAAmB,CAKlC,IAJA,IAAMG,EAA8BL,KAAKM,uCACrC/C,EACF8C,EAA4B9C,OAAS8C,EAA4BvB,KAE1DvH,EAAIyI,KAAKE,kBAAoB,EAAG3I,GAAKkF,EAAOlF,IAAK,CACxD,IAAMuH,EAAOkB,KAAKxD,eAAejF,GAEjC,GAAY,MAARuH,GAAgByB,MAAMzB,GACxB,MAAMsB,MAAM,mCAAmC7I,EAAC,aAAauH,GAG/DkB,KAAKC,wBAAwB1I,GAAK,CAChCgG,OAAM,EACNuB,KAAI,GAGNvB,GAAUuB,EAGZkB,KAAKE,kBAAoBzD,EAG3B,OAAOuD,KAAKC,wBAAwBxD,IAGtC,YAAA6D,qCAAA,WACE,OAAON,KAAKE,mBAAqB,EAC7BF,KAAKC,wBAAwBD,KAAKE,mBAClC,CAAE3C,OAAQ,EAAGuB,KAAM,IAQzB,YAAAM,aAAA,WACE,IAAMiB,EAA8BL,KAAKM,uCAEzC,OACED,EAA4B9C,OAC5B8C,EAA4BvB,MAC3BkB,KAAK3E,UAAY2E,KAAKE,kBAAoB,GAAKF,KAAK7E,mBAWzD,YAAA+B,yBAAA,SAAyB,G,IACvB,IAAAC,aAAK,IAAG,IAAA3D,UAAUgH,MAAK,EACvBpD,EAAa,gBACbE,EAAa,gBACbE,EAAW,cAOX,GAAIJ,GAAiB,EACnB,OAAO,EAGT,IAIIqD,EAJEC,EAAQV,KAAKnB,2BAA2BrB,GACxCmD,EAAYD,EAAMnD,OAClBqD,EAAYD,EAAYvD,EAAgBsD,EAAM5B,KAIpD,OAAQ3B,GACN,KAAK,EAAA3D,UAAUqH,IACbJ,EAAcG,EACd,MACF,KAAK,EAAApH,UAAUsH,OACbL,EAAcE,GAAavD,EAAgBsD,EAAM5B,MAAQ,EACzD,MACF,KAAK,EAAAtF,UAAUgH,MACbC,EAAcE,EACd,MACF,QACEF,EAAcM,KAAKC,IAAIJ,EAAWG,KAAKE,IAAIN,EAAWrD,IAG1D,IAAM4D,EAAYlB,KAAKZ,eAEvB,OAAO2B,KAAKC,IAAI,EAAGD,KAAKE,IAAIC,EAAY9D,EAAeqD,KAGzD,YAAAzB,gBAAA,SAAgB,G,IACd5B,EAAa,gBACbG,EAAM,SACN9B,EAAa,gBAQb,GAAkB,IAFAuE,KAAKZ,eAGrB,MAAO,GAGT,IAAMuB,EAAYpD,EAASH,EACvB6B,EAAQe,KAAKmB,gBAAgB5D,GAEjC,QAAqB,IAAV0B,EACT,MAAMmB,MAAM,kBAAkB7C,EAAM,cAGtC,IAAMmD,EAAQV,KAAKnB,2BAA2BI,GAC9C1B,EAASmD,EAAMnD,OAASmD,EAAM5B,KAI9B,IAFA,IAAII,EAAOD,EAEJ1B,EAASoD,GAAazB,EAAOc,KAAK3E,UAAY,GACnD6D,IACA3B,GAAUyC,KAAKnB,2BAA2BK,GAAMJ,KAQlD,OALIrD,IACFwD,EAAQ8B,KAAKC,IAAI,EAAG/B,EAAQxD,GAC5ByD,EAAO6B,KAAKE,IAAI/B,EAAOzD,EAAeuE,KAAK3E,UAAY,IAGlD,CACL4D,MAAK,EACLC,KAAI,IASR,YAAAT,UAAA,SAAUhC,GACRuD,KAAKE,kBAAoBa,KAAKE,IAAIjB,KAAKE,kBAAmBzD,EAAQ,IASpE,YAAA0E,gBAAA,SAAgB5D,GACd,GAAIgD,MAAMhD,GACR,MAAM6C,MAAM,kBAAkB7C,EAAM,cAKtCA,EAASwD,KAAKC,IAAI,EAAGzD,GAErB,IAAM8C,EAA8BL,KAAKM,uCACnCJ,EAAoBa,KAAKC,IAAI,EAAGhB,KAAKE,mBAE3C,OAAIG,EAA4B9C,QAAUA,EAEjCyC,KAAKoB,aAAa,CACvBC,KAAMnB,EACNoB,IAAK,EACL/D,OAAM,IAMDyC,KAAKuB,kBAAkB,CAC5B9E,MAAOyD,EACP3C,OAAM,KAKJ,YAAA6D,aAAR,SAAqB,GAYnB,I,IAXAE,EAAG,MACHD,EAAI,OACJ9D,EAAM,SAMFiE,EAAS,EACTlE,EAAgB,EAEbgE,GAAOD,GAAM,CAIlB,GAHAG,EAASF,EAAMP,KAAKU,OAAOJ,EAAOC,GAAO,IACzChE,EAAgB0C,KAAKnB,2BAA2B2C,GAAQjE,UAElCA,EACpB,OAAOiE,EACElE,EAAgBC,EACzB+D,EAAME,EAAS,EACNlE,EAAgBC,IACzB8D,EAAOG,EAAS,GAIpB,OAAIF,EAAM,EACDA,EAAM,EAGR,GAGD,YAAAC,kBAAR,SAA0B,GASxB,I,IARA9E,EAAK,QACLc,EAAM,SAKFmE,EAAW,EAGbjF,EAAQuD,KAAK3E,WACb2E,KAAKnB,2BAA2BpC,GAAOc,OAASA,GAEhDd,GAASiF,EACTA,GAAY,EAGd,OAAO1B,KAAKoB,aAAa,CACvBC,KAAMN,KAAKE,IAAIxE,EAAOuD,KAAK3E,UAAY,GACvCiG,IAAKP,KAAKU,MAAMhF,EAAQ,GACxBc,OAAM,KAGZ,EAjSA,G,m5BCpBA,cACA,OAIA,OAAS,iFAAAhE,aA0BT,WACA,UAmBA,mBAA6C0B,GAC3C,IAEM0G,EAAe,EAAAtF,OAAuB,MACtC,EAAkB,EAAAuF,kBAAkBD,GAAnChH,EAAK,KAAES,EAAM,KAEpB,OACE,uBAAKY,MANW,CAAErB,MAAO,OAAQS,OAAQ,QAMlB2E,IAAK4B,GAC1B,gBAAC,UAAW,GAAChH,MAAOA,EAAOS,OAAQA,GAAYH,O,6BC1DrDhD,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIqJ,EAAU,EAAQ,GACtBhL,EAAQiL,UAAYD,EAAQ3H,QAC5B,IAAI6H,EAAU,EAAQ,GACtBlL,EAAQmL,gBAAkBD,EAAQ7H,QAClC,IAAI+H,EAAU,EAAQ,IACtBpL,EAAQqL,SAAWD,EAAQ/H,QAC3B,IAAIiI,EAAU,EAAQ,IACtBtL,EAAQuL,SAAWD,EAAQjI,QAC3B,IAAImI,EAAU,EAAQ,IACtBxL,EAAQyL,iBAAmBD,EAAQnI,QACnC,IAAIqI,EAAU,EAAQ,IACtB1L,EAAQ+K,kBAAoBW,EAAQrI,QACpC,IAAIsI,EAAU,EAAQ,IACtB3L,EAAQ4L,SAAWD,EAAQtI,QAC3B,IAAIwI,EAAU,EAAQ,IACtB7L,EAAQ8L,gBAAkBD,EAAQxI,QAClC,IAAI0I,EAAU,EAAQ,GACtB/L,EAAQgM,cAAgBD,EAAQ1I,QAChC,IAAI4I,EAAW,EAAQ,IACvBjM,EAAQkM,SAAWD,EAAS5I,QAC5B,IAAI8I,EAAW,EAAQ,IACvBnM,EAAQoM,WAAaD,EAAS9I,QAC9B,IAAIgJ,EAAgB,EAAQ,IAC5BrM,EAAQsM,YAAcD,EAAchJ,QACpC,IAAIkJ,EAAa,EAAQ,IACzBvM,EAAQwM,SAAWD,EAAWlJ,QAC9B,IAAIoJ,EAAW,EAAQ,IACvBzM,EAAQ0M,OAASD,EAASpJ,QAC1B,IAAIsJ,EAAe,EAAQ,IAC3B3M,EAAQ4M,WAAaD,EAAatJ,QAClC,IAAIwJ,EAAgB,EAAQ,IAC5B7M,EAAQ8M,YAAcD,EAAcxJ,S,6BChCpCjC,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAStBpD,EAAQqD,QARR,WACI,IAAI0J,EAAK3J,EAAQkC,UAAS,GAAQ0H,EAAWD,EAAG,GAAIE,EAAYF,EAAG,GAKnE,MAAO,CAACC,EAJG5J,EAAQqF,SAAQ,WAAc,MAAO,CAC5CyE,YAAa,SAAUC,GAAiBF,GAAU,IAClDG,UAAW,SAAUD,GAAiBF,GAAU,OAC7C,O,6BCPX7L,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GA8BtBpD,EAAQqD,QA7BR,SAAyBgK,EAAMC,GAC3B,IAAIP,EAAK3J,EAAQkC,UAAS,GAAQ0H,EAAWD,EAAG,GAAIE,EAAYF,EAAG,GAC/DQ,EAAYnK,EAAQoK,aAAY,SAAUL,GAI1C,OAHWE,EAAKI,KAAI,SAAUvE,GAC1B,OAAwB,OAAhBA,EAAIjC,UAAqBiC,EAAIjC,QAAQyG,SAASP,EAAE9F,WAEhDsG,MAAMC,WACnB,CAACP,IACAQ,EAAYzK,EAAQoK,aAAY,SAAUL,GACtCI,EAAUJ,KACVF,GAAU,GACVK,EAAeH,MAEpB,CAACI,EAAWD,IACXQ,EAAU1K,EAAQoK,aAAY,SAAUL,GACpCI,EAAUJ,IACVF,GAAU,KAEf,CAACM,IASJ,OARAnK,EAAQG,WAAU,WAGd,OAFAwK,SAASxG,iBAAiB,YAAasG,GACvCE,SAASxG,iBAAiB,UAAWuG,GAC9B,WACHC,SAAStG,oBAAoB,YAAaoG,GAC1CE,SAAStG,oBAAoB,UAAWqG,MAE7C,CAACT,EAAMC,IACH,CAACN,K,6BC7BZ,IAAIgB,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU4K,EAAgB,EAAQ,IAStChO,EAAQqD,QARR,WACI,IAAI0J,EAAK3J,EAAQC,QAAQiC,UAAS,GAAQ4I,EAAYnB,EAAG,GAAIoB,EAAapB,EAAG,GAK7E,MAAO,CAACmB,EAJG9K,EAAQC,QAAQoF,SAAQ,WAAc,MAAO,CACpD2F,QAAS,SAAUjB,GAAiBgB,GAAW,IAC/CE,OAAQ,SAAUlB,GAAiBgB,GAAW,OAC3C,O,6BCVX,IAAIH,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU4K,EAAgB,EAAQ,IAStChO,EAAQqD,QARR,WACI,IAAI0J,EAAK3J,EAAQC,QAAQiC,UAAS,GAAQgJ,EAAYvB,EAAG,GAAIwB,EAAaxB,EAAG,GAK7E,MAAO,CAACuB,EAJGlL,EAAQC,QAAQoF,SAAQ,WAAc,MAAO,CACpD+F,aAAc,SAAUrB,GAAiBoB,GAAW,IACpDE,aAAc,SAAUtB,GAAiBoB,GAAW,OACjD,O,6BCVXnN,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAYtBpD,EAAQqD,QAXR,WACI,IAAI0J,EAAK3J,EAAQkC,SAAS,GAAIoJ,EAAI3B,EAAG,GAAI4B,EAAO5B,EAAG,GAC/C6B,EAAKxL,EAAQkC,SAAS,GAAIuJ,EAAID,EAAG,GAAIE,EAAOF,EAAG,GAOnD,MAAO,CAACF,EAAGG,EANAzL,EAAQqF,SAAQ,WAAc,MAAO,CAC5CsG,YAAa,SAAU5B,GACnBwB,EAAKxB,EAAE6B,YAAYC,SACnBH,EAAK3B,EAAE6B,YAAYE,aAEpB,O,6BCVX,IAAIlB,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAClB+L,EAA6BnB,EAAgB,EAAQ,KAgBzDhO,EAAQqD,QAfR,SAA2B6F,GACvB,IAAI6D,EAAK3J,EAAQkC,SAAS,GAAIxB,EAAQiJ,EAAG,GAAIqC,EAAWrC,EAAG,GACvD6B,EAAKxL,EAAQkC,SAAS,GAAIf,EAASqK,EAAG,GAAIS,EAAYT,EAAG,GAW7D,OAVAxL,EAAQkM,iBAAgB,WACpB,IAAIC,EAAiB,IAAIJ,EAA2B9L,SAAQ,SAAUmM,GAClEJ,EAASI,EAAQ,GAAGC,YAAY3L,OAChCuL,EAAUG,EAAQ,GAAGC,YAAYlL,WAKrC,OAHoB,OAAhB2E,EAAIjC,SACJsI,EAAeG,QAAQxG,EAAIjC,SAExB,WAA0BsI,EAAeI,gBACjD,CAACzG,IACG,CAACpF,EAAOS,K,6BCpBnB,mBAOA,IAAIqL,EAAU,WACV,GAAmB,oBAARC,IACP,OAAOA,IASX,SAASC,EAASC,EAAK9N,GACnB,IAAIyG,GAAU,EAQd,OAPAqH,EAAIC,MAAK,SAAUC,EAAOrK,GACtB,OAAIqK,EAAM,KAAOhO,IACbyG,EAAS9C,GACF,MAIR8C,EAEX,OAAsB,WAClB,SAASwH,IACL/G,KAAKgH,YAAc,GAuEvB,OArEA/O,OAAOC,eAAe6O,EAAQ5N,UAAW,OAAQ,CAI7Cf,IAAK,WACD,OAAO4H,KAAKgH,YAAYxH,QAE5BrH,YAAY,EACZ8O,cAAc,IAMlBF,EAAQ5N,UAAUf,IAAM,SAAUU,GAC9B,IAAI2D,EAAQkK,EAAS3G,KAAKgH,YAAalO,GACnCgO,EAAQ9G,KAAKgH,YAAYvK,GAC7B,OAAOqK,GAASA,EAAM,IAO1BC,EAAQ5N,UAAU+N,IAAM,SAAUpO,EAAKN,GACnC,IAAIiE,EAAQkK,EAAS3G,KAAKgH,YAAalO,IAClC2D,EACDuD,KAAKgH,YAAYvK,GAAO,GAAKjE,EAG7BwH,KAAKgH,YAAYtH,KAAK,CAAC5G,EAAKN,KAOpCuO,EAAQ5N,UAAUgO,OAAS,SAAUrO,GACjC,IAAIuN,EAAUrG,KAAKgH,YACfvK,EAAQkK,EAASN,EAASvN,IACzB2D,GACD4J,EAAQe,OAAO3K,EAAO,IAO9BsK,EAAQ5N,UAAUkO,IAAM,SAAUvO,GAC9B,SAAU6N,EAAS3G,KAAKgH,YAAalO,IAKzCiO,EAAQ5N,UAAUmO,MAAQ,WACtBtH,KAAKgH,YAAYI,OAAO,IAO5BL,EAAQ5N,UAAUsG,QAAU,SAAU8H,EAAUC,QAChC,IAARA,IAAkBA,EAAM,MAC5B,IAAK,IAAIC,EAAK,EAAG7D,EAAK5D,KAAKgH,YAAaS,EAAK7D,EAAGpE,OAAQiI,IAAM,CAC1D,IAAIX,EAAQlD,EAAG6D,GACfF,EAAS7P,KAAK8P,EAAKV,EAAM,GAAIA,EAAM,MAGpCC,EAzEU,GAtBX,GAsGVW,EAA8B,oBAAXxQ,QAA8C,oBAAb0N,UAA4B1N,OAAO0N,WAAaA,SAGpG+C,OACsB,IAAXC,GAA0BA,EAAO7G,OAASA,KAC1C6G,EAES,oBAATC,MAAwBA,KAAK9G,OAASA,KACtC8G,KAEW,oBAAX3Q,QAA0BA,OAAO6J,OAASA,KAC1C7J,OAGJ4Q,SAAS,cAATA,GASPC,EACqC,mBAA1BC,sBAIAA,sBAAsBjP,KAAK4O,GAE/B,SAAUJ,GAAY,OAAOU,YAAW,WAAc,OAAOV,EAASW,KAAKC,SAAW,IAAO,KAqExG,IAGIC,EAAiB,CAAC,MAAO,QAAS,SAAU,OAAQ,QAAS,SAAU,OAAQ,UAE/EC,EAAwD,oBAArBC,iBAInCC,EAA0C,WAM1C,SAASA,IAMLvI,KAAKwI,YAAa,EAMlBxI,KAAKyI,sBAAuB,EAM5BzI,KAAK0I,mBAAqB,KAM1B1I,KAAK2I,WAAa,GAClB3I,KAAK4I,iBAAmB5I,KAAK4I,iBAAiB7P,KAAKiH,MACnDA,KAAK6I,QAjGb,SAAmBtB,EAAUuB,GACzB,IAAIC,GAAc,EAAOC,GAAe,EAAOC,EAAe,EAO9D,SAASC,IACDH,IACAA,GAAc,EACdxB,KAEAyB,GACAG,IAUR,SAASC,IACLrB,EAAwBmB,GAO5B,SAASC,IACL,IAAIE,EAAYnB,KAAKC,MACrB,GAAIY,EAAa,CAEb,GAAIM,EAAYJ,EA7CN,EA8CN,OAMJD,GAAe,OAGfD,GAAc,EACdC,GAAe,EACff,WAAWmB,EAAiBN,GAEhCG,EAAeI,EAEnB,OAAOF,EA6CYG,CAAStJ,KAAK6I,QAAQ9P,KAAKiH,MAzC9B,IAyMhB,OAxJAuI,EAAyBpP,UAAUoQ,YAAc,SAAUC,IACjDxJ,KAAK2I,WAAWc,QAAQD,IAC1BxJ,KAAK2I,WAAWjJ,KAAK8J,GAGpBxJ,KAAKwI,YACNxI,KAAK0J,YASbnB,EAAyBpP,UAAUwQ,eAAiB,SAAUH,GAC1D,IAAII,EAAY5J,KAAK2I,WACjBlM,EAAQmN,EAAUH,QAAQD,IAEzB/M,GACDmN,EAAUxC,OAAO3K,EAAO,IAGvBmN,EAAUpK,QAAUQ,KAAKwI,YAC1BxI,KAAK6J,eASbtB,EAAyBpP,UAAU0P,QAAU,WACnB7I,KAAK8J,oBAIvB9J,KAAK6I,WAWbN,EAAyBpP,UAAU2Q,iBAAmB,WAElD,IAAIC,EAAkB/J,KAAK2I,WAAWqB,QAAO,SAAUR,GACnD,OAAOA,EAASS,eAAgBT,EAASU,eAQ7C,OADAH,EAAgBtK,SAAQ,SAAU+J,GAAY,OAAOA,EAASW,qBACvDJ,EAAgBvK,OAAS,GAQpC+I,EAAyBpP,UAAUuQ,SAAW,WAGrChC,IAAa1H,KAAKwI,aAMvB5D,SAASxG,iBAAiB,gBAAiB4B,KAAK4I,kBAChD1R,OAAOkH,iBAAiB,SAAU4B,KAAK6I,SACnCR,GACArI,KAAK0I,mBAAqB,IAAIJ,iBAAiBtI,KAAK6I,SACpD7I,KAAK0I,mBAAmBnC,QAAQ3B,SAAU,CACtCwF,YAAY,EACZC,WAAW,EACXC,eAAe,EACfC,SAAS,MAIb3F,SAASxG,iBAAiB,qBAAsB4B,KAAK6I,SACrD7I,KAAKyI,sBAAuB,GAEhCzI,KAAKwI,YAAa,IAQtBD,EAAyBpP,UAAU0Q,YAAc,WAGxCnC,GAAc1H,KAAKwI,aAGxB5D,SAAStG,oBAAoB,gBAAiB0B,KAAK4I,kBACnD1R,OAAOoH,oBAAoB,SAAU0B,KAAK6I,SACtC7I,KAAK0I,oBACL1I,KAAK0I,mBAAmBlC,aAExBxG,KAAKyI,sBACL7D,SAAStG,oBAAoB,qBAAsB0B,KAAK6I,SAE5D7I,KAAK0I,mBAAqB,KAC1B1I,KAAKyI,sBAAuB,EAC5BzI,KAAKwI,YAAa,IAStBD,EAAyBpP,UAAUyP,iBAAmB,SAAUhF,GAC5D,IAAI6B,EAAK7B,EAAG4G,aAAcA,OAAsB,IAAP/E,EAAgB,GAAKA,EAEvC2C,EAAevB,MAAK,SAAU/N,GACjD,SAAU0R,EAAaf,QAAQ3Q,OAG/BkH,KAAK6I,WAQbN,EAAyBkC,YAAc,WAInC,OAHKzK,KAAK0K,YACN1K,KAAK0K,UAAY,IAAInC,GAElBvI,KAAK0K,WAOhBnC,EAAyBmC,UAAY,KAC9BnC,EAhMkC,GA0MzCoC,EAAqB,SAAWzM,EAAQjD,GACxC,IAAK,IAAIwM,EAAK,EAAG7D,EAAK3L,OAAO2S,KAAK3P,GAAQwM,EAAK7D,EAAGpE,OAAQiI,IAAM,CAC5D,IAAI3O,EAAM8K,EAAG6D,GACbxP,OAAOC,eAAegG,EAAQpF,EAAK,CAC/BN,MAAOyC,EAAMnC,GACbX,YAAY,EACZ0S,UAAU,EACV5D,cAAc,IAGtB,OAAO/I,GASP4M,EAAc,SAAW5M,GAOzB,OAHkBA,GAAUA,EAAO6M,eAAiB7M,EAAO6M,cAAcC,aAGnDrD,GAItBsD,EAAYC,EAAe,EAAG,EAAG,EAAG,GAOxC,SAASC,EAAQ3S,GACb,OAAO4S,WAAW5S,IAAU,EAShC,SAAS6S,EAAeC,GAEpB,IADA,IAAIC,EAAY,GACP9D,EAAK,EAAGA,EAAK+D,UAAUhM,OAAQiI,IACpC8D,EAAU9D,EAAK,GAAK+D,UAAU/D,GAElC,OAAO8D,EAAUE,QAAO,SAAU3M,EAAMpE,GAEpC,OAAOoE,EAAOqM,EADFG,EAAO,UAAY5Q,EAAW,aAE3C,GAmCP,SAASgR,EAA0BxN,GAG/B,IAAIyN,EAAczN,EAAOyN,YAAaC,EAAe1N,EAAO0N,aAS5D,IAAKD,IAAgBC,EACjB,OAAOX,EAEX,IAAIK,EAASR,EAAY5M,GAAQ2N,iBAAiB3N,GAC9C4N,EA3CR,SAAqBR,GAGjB,IAFA,IACIQ,EAAW,GACNrE,EAAK,EAAGsE,EAFD,CAAC,MAAO,QAAS,SAAU,QAEDtE,EAAKsE,EAAYvM,OAAQiI,IAAM,CACrE,IAAI/M,EAAWqR,EAAYtE,GACvBjP,EAAQ8S,EAAO,WAAa5Q,GAChCoR,EAASpR,GAAYyQ,EAAQ3S,GAEjC,OAAOsT,EAmCQE,CAAYV,GACvBW,EAAWH,EAAS/Q,KAAO+Q,EAASI,MACpCC,EAAUL,EAAShR,IAAMgR,EAASM,OAKlCzR,EAAQwQ,EAAQG,EAAO3Q,OAAQS,EAAS+P,EAAQG,EAAOlQ,QAqB3D,GAlByB,eAArBkQ,EAAOe,YAOHtL,KAAKuL,MAAM3R,EAAQsR,KAAcN,IACjChR,GAAS0Q,EAAeC,EAAQ,OAAQ,SAAWW,GAEnDlL,KAAKuL,MAAMlR,EAAS+Q,KAAaP,IACjCxQ,GAAUiQ,EAAeC,EAAQ,MAAO,UAAYa,KAoDhE,SAA2BjO,GACvB,OAAOA,IAAW4M,EAAY5M,GAAQ0G,SAAS2H,gBA9C1CC,CAAkBtO,GAAS,CAK5B,IAAIuO,EAAgB1L,KAAKuL,MAAM3R,EAAQsR,GAAYN,EAC/Ce,EAAiB3L,KAAKuL,MAAMlR,EAAS+Q,GAAWP,EAMpB,IAA5B7K,KAAK4L,IAAIF,KACT9R,GAAS8R,GAEoB,IAA7B1L,KAAK4L,IAAID,KACTtR,GAAUsR,GAGlB,OAAOxB,EAAeY,EAAS/Q,KAAM+Q,EAAShR,IAAKH,EAAOS,GAQ9D,IAAIwR,EAGkC,oBAAvBC,mBACA,SAAU3O,GAAU,OAAOA,aAAkB4M,EAAY5M,GAAQ2O,oBAKrE,SAAU3O,GAAU,OAAQA,aAAkB4M,EAAY5M,GAAQ4O,YAC3C,mBAAnB5O,EAAO6O,SAiBtB,SAASC,EAAe9O,GACpB,OAAKwJ,EAGDkF,EAAqB1O,GAhH7B,SAA2BA,GACvB,IAAI+O,EAAO/O,EAAO6O,UAClB,OAAO7B,EAAe,EAAG,EAAG+B,EAAKtS,MAAOsS,EAAK7R,QA+GlC8R,CAAkBhP,GAEtBwN,EAA0BxN,GALtB+M,EAuCf,SAASC,EAAe3F,EAAGG,EAAG/K,EAAOS,GACjC,MAAO,CAAEmK,EAAGA,EAAGG,EAAGA,EAAG/K,MAAOA,EAAOS,OAAQA,GAO/C,IAAI+R,EAAmC,WAMnC,SAASA,EAAkBjP,GAMvB8B,KAAKoN,eAAiB,EAMtBpN,KAAKqN,gBAAkB,EAMvBrN,KAAKsN,aAAepC,EAAe,EAAG,EAAG,EAAG,GAC5ClL,KAAK9B,OAASA,EA0BlB,OAlBAiP,EAAkBhU,UAAU0K,SAAW,WACnC,IAAI0J,EAAOP,EAAehN,KAAK9B,QAE/B,OADA8B,KAAKsN,aAAeC,EACZA,EAAK5S,QAAUqF,KAAKoN,gBACxBG,EAAKnS,SAAW4E,KAAKqN,iBAQ7BF,EAAkBhU,UAAUqU,cAAgB,WACxC,IAAID,EAAOvN,KAAKsN,aAGhB,OAFAtN,KAAKoN,eAAiBG,EAAK5S,MAC3BqF,KAAKqN,gBAAkBE,EAAKnS,OACrBmS,GAEJJ,EAnD2B,GAsDlCM,EAOA,SAA6BvP,EAAQwP,GACjC,IA/FoB9J,EACpB2B,EAAUG,EAAU/K,EAAkBS,EAEtCuS,EACAJ,EA2FIjH,GA9FJf,GADoB3B,EA+FiB8J,GA9F9BnI,EAAGG,EAAI9B,EAAG8B,EAAG/K,EAAQiJ,EAAGjJ,MAAOS,EAASwI,EAAGxI,OAElDuS,EAAoC,oBAApBC,gBAAkCA,gBAAkB3V,OACpEsV,EAAOtV,OAAOY,OAAO8U,EAAOxU,WAEhCwR,EAAmB4C,EAAM,CACrBhI,EAAGA,EAAGG,EAAGA,EAAG/K,MAAOA,EAAOS,OAAQA,EAClCN,IAAK4K,EACLwG,MAAO3G,EAAI5K,EACXyR,OAAQhR,EAASsK,EACjB3K,KAAMwK,IAEHgI,GAyFH5C,EAAmB3K,KAAM,CAAE9B,OAAQA,EAAQoI,YAAaA,KAK5DuH,EAAmC,WAWnC,SAASA,EAAkBtG,EAAUuG,EAAYC,GAc7C,GAPA/N,KAAKgO,oBAAsB,GAM3BhO,KAAKiO,cAAgB,IAAIxH,EACD,mBAAbc,EACP,MAAM,IAAI2G,UAAU,2DAExBlO,KAAKmO,UAAY5G,EACjBvH,KAAKoO,YAAcN,EACnB9N,KAAKqO,aAAeN,EAoHxB,OA5GAF,EAAkB1U,UAAUoN,QAAU,SAAUrI,GAC5C,IAAKsN,UAAUhM,OACX,MAAM,IAAI0O,UAAU,4CAGxB,GAAuB,oBAAZI,SAA6BA,mBAAmBrW,OAA3D,CAGA,KAAMiG,aAAkB4M,EAAY5M,GAAQoQ,SACxC,MAAM,IAAIJ,UAAU,yCAExB,IAAIK,EAAevO,KAAKiO,cAEpBM,EAAalH,IAAInJ,KAGrBqQ,EAAarH,IAAIhJ,EAAQ,IAAIiP,EAAkBjP,IAC/C8B,KAAKoO,YAAY7E,YAAYvJ,MAE7BA,KAAKoO,YAAYvF,aAQrBgF,EAAkB1U,UAAUqV,UAAY,SAAUtQ,GAC9C,IAAKsN,UAAUhM,OACX,MAAM,IAAI0O,UAAU,4CAGxB,GAAuB,oBAAZI,SAA6BA,mBAAmBrW,OAA3D,CAGA,KAAMiG,aAAkB4M,EAAY5M,GAAQoQ,SACxC,MAAM,IAAIJ,UAAU,yCAExB,IAAIK,EAAevO,KAAKiO,cAEnBM,EAAalH,IAAInJ,KAGtBqQ,EAAapH,OAAOjJ,GACfqQ,EAAazP,MACdkB,KAAKoO,YAAYzE,eAAe3J,SAQxC6N,EAAkB1U,UAAUqN,WAAa,WACrCxG,KAAKyO,cACLzO,KAAKiO,cAAc3G,QACnBtH,KAAKoO,YAAYzE,eAAe3J,OAQpC6N,EAAkB1U,UAAU8Q,aAAe,WACvC,IAAIyE,EAAQ1O,KACZA,KAAKyO,cACLzO,KAAKiO,cAAcxO,SAAQ,SAAUkP,GAC7BA,EAAY9K,YACZ6K,EAAMV,oBAAoBtO,KAAKiP,OAU3Cd,EAAkB1U,UAAUgR,gBAAkB,WAE1C,GAAKnK,KAAKkK,YAAV,CAGA,IAAI1C,EAAMxH,KAAKqO,aAEXhI,EAAUrG,KAAKgO,oBAAoB1J,KAAI,SAAUqK,GACjD,OAAO,IAAIlB,EAAoBkB,EAAYzQ,OAAQyQ,EAAYnB,oBAEnExN,KAAKmO,UAAUzW,KAAK8P,EAAKnB,EAASmB,GAClCxH,KAAKyO,gBAOTZ,EAAkB1U,UAAUsV,YAAc,WACtCzO,KAAKgO,oBAAoB5G,OAAO,IAOpCyG,EAAkB1U,UAAU+Q,UAAY,WACpC,OAAOlK,KAAKgO,oBAAoBxO,OAAS,GAEtCqO,EAlJ2B,GAwJlCjE,EAA+B,oBAAZgF,QAA0B,IAAIA,QAAY,IAAInI,EAKjEoI,EAOA,SAASA,EAAetH,GACpB,KAAMvH,gBAAgB6O,GAClB,MAAM,IAAIX,UAAU,sCAExB,IAAK1C,UAAUhM,OACX,MAAM,IAAI0O,UAAU,4CAExB,IAAIJ,EAAavF,EAAyBkC,cACtCjB,EAAW,IAAIqE,EAAkBtG,EAAUuG,EAAY9N,MAC3D4J,EAAU1C,IAAIlH,KAAMwJ,IAK5B,CACI,UACA,YACA,cACF/J,SAAQ,SAAUqP,GAChBD,EAAe1V,UAAU2V,GAAU,WAC/B,IAAIlL,EACJ,OAAQA,EAAKgG,EAAUxR,IAAI4H,OAAO8O,GAAQC,MAAMnL,EAAI4H,eAI5D,IAAI/O,OAEuC,IAA5BkL,EAASkH,eACTlH,EAASkH,eAEbA,EAGI,a,gCC/5Bf,IAAIG,EAGJA,EAAI,WACH,OAAOhP,KADJ,GAIJ,IAECgP,EAAIA,GAAK,IAAIlH,SAAS,cAAb,GACR,MAAO9D,GAEc,iBAAX9M,SAAqB8X,EAAI9X,QAOrCJ,EAAOD,QAAUmY,G,6BClBjB,IAAInK,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU4K,EAAgB,EAAQ,IAStChO,EAAQqD,QARR,WACI,IAAI0J,EAAK3J,EAAQC,QAAQiC,UAAS,GAAQ8S,EAAYrL,EAAG,GAAIsL,EAAatL,EAAG,GAK7E,MAAO,CAACqL,EAJGhV,EAAQC,QAAQoF,SAAQ,WAAc,MAAO,CACpD6P,aAAc,SAAUnL,GAAiBkL,GAAW,IACpDE,WAAY,SAAUpL,GAAiBkL,GAAW,OAC/C,O,6BCVX,IAAIrK,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU4K,EAAgB,EAAQ,IActChO,EAAQqD,QAbR,WACI,IAAI0J,EAAK3J,EAAQC,QAAQiC,SAASjF,OAAOmY,YAAa1U,EAAQiJ,EAAG,GAAIqC,EAAWrC,EAAG,GAC/E6B,EAAKxL,EAAQC,QAAQiC,SAASjF,OAAOoY,aAAclU,EAASqK,EAAG,GAAIS,EAAYT,EAAG,GAClF8J,EAAStV,EAAQC,QAAQmK,aAAY,WACrC4B,EAAS/O,OAAOmY,YAChBnJ,EAAUhP,OAAOoY,eAClB,IAKH,OAJArV,EAAQC,QAAQE,WAAU,WAEtB,OADAlD,OAAOkH,iBAAiB,SAAUmR,GAC3B,WAA0BrY,OAAOoH,oBAAoB,SAAUiR,MACvE,CAACA,IACG,CAAC5U,EAAOS,K,6BChBnB,IAAIyJ,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIgX,EAAkB3K,EAAgB,EAAQ,IAM9ChO,EAAQqD,QALO,SAAUuV,GACrBD,EAAgBtV,SAAQ,WACpBuV,S,6BCPR,IAAI5K,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAClBuV,EAAkB3K,EAAgB,EAAQ,IAO9ChO,EAAQqD,QANS,SAAUuV,GACvB,IAAIC,EAAQzV,EAAQoC,OAAOoT,GAE3BC,EAAM5R,QAAU2R,EAChBD,EAAgBtV,SAAQ,WAAc,OAAO,WAAc,OAAOwV,EAAM5R,gB,6BCV5E7F,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GACtB,SAASkJ,EAAYwM,GACjB,IAAI/L,EAAK3J,EAAQkC,SAASwT,GAAUnX,EAAQoL,EAAG,GAAIgM,EAAWhM,EAAG,GACjE,OAAO3J,EAAQqF,SAAQ,WAAc,MAAO,CACxC9G,MAAOA,EACPoX,SAAUA,KACP,CAACpX,IAEZ3B,EAAQsM,YAAcA,EACtBtM,EAAQqD,QAAUiJ,G,6BCVlB,IAAI0M,EAAY7P,MAAQA,KAAK6P,UAAa,WAStC,OARAA,EAAW5X,OAAO6X,QAAU,SAASrX,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIwS,UAAUhM,OAAQjI,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIkS,UAAUjU,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsW,MAAM/O,KAAMwL,YAE5B3G,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAClBmJ,EAAayB,EAAgB,EAAQ,KACzC,SAASxB,EAASsM,GACd,IAAI/L,EAAKR,EAAWlJ,QAAQyV,GAAUnX,EAAQoL,EAAG,GAAImM,EAAUnM,EAAG,GAClE,OAAO3J,EAAQqF,SAAQ,WAAc,OAAQuQ,EAAS,CAAErX,MAAOA,GAASuX,KAAc,CAACA,EAASvX,IAEpG3B,EAAQwM,SAAWA,EACnBxM,EAAQqD,QAAUmJ,G,6BCtBlB,IAAIwM,EAAY7P,MAAQA,KAAK6P,UAAa,WAStC,OARAA,EAAW5X,OAAO6X,QAAU,SAASrX,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIwS,UAAUhM,OAAQjI,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIkS,UAAUjU,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsW,MAAM/O,KAAMwL,YAE5BwE,EAAkBhQ,MAAQA,KAAKgQ,gBAAmB,WAClD,IAAK,IAAI1W,EAAI,EAAG/B,EAAI,EAAG0Y,EAAKzE,UAAUhM,OAAQjI,EAAI0Y,EAAI1Y,IAAK+B,GAAKkS,UAAUjU,GAAGiI,OACxE,IAAInH,EAAIqE,MAAMpD,GAAI4W,EAAI,EAA3B,IAA8B3Y,EAAI,EAAGA,EAAI0Y,EAAI1Y,IACzC,IAAK,IAAI4Y,EAAI3E,UAAUjU,GAAI6Y,EAAI,EAAGC,EAAKF,EAAE3Q,OAAQ4Q,EAAIC,EAAID,IAAKF,IAC1D7X,EAAE6X,GAAKC,EAAEC,GACjB,OAAO/X,GAEXJ,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GACtB,SAASoJ,EAASsM,GACd,IAAI/L,EAAK3J,EAAQkC,SAASwT,GAAUnX,EAAQoL,EAAG,GAAIgM,EAAWhM,EAAG,GAC7DlE,EAAOzF,EAAQoK,aAAY,SAAU8L,GACrCP,GAAS,SAAUU,GAAK,OAAON,EAAeM,EAAI5T,MAAMC,QAAQwT,GAAKA,EAAI,CAACA,SAC3E,IACCI,EAAUtW,EAAQoK,aAAY,SAAU8L,GAAK,OAAOP,GAAS,SAAUU,GAAK,OAAON,EAAgBtT,MAAMC,QAAQwT,GAAKA,EAAI,CAACA,GAAKG,QAAW,IAC3IE,EAAMvW,EAAQoK,aAAY,WAAc,OAAOuL,GAAS,SAAUU,GAAK,OAAOA,EAAEG,MAAM,GAAI,QAAW,IACrGC,EAAQzW,EAAQoK,aAAY,WAAc,OAAOuL,GAAS,SAAUU,GAAK,OAAOA,EAAEG,MAAM,QAAW,IACnGE,EAAO1W,EAAQoK,aAAY,SAAUuM,EAAMC,GAC3C,OAAOjB,GAAS,SAAUkB,GACtB,IAAIC,EAAOD,EAAGL,QAEd,OADAM,EAAK3J,OAAOyJ,EAAK,EAAIE,EAAKvR,OAASqR,EAAKA,EAAI,EAAGE,EAAK3J,OAAOwJ,EAAM,GAAG,IAC7DG,OAEZ,IACCzJ,EAAQrN,EAAQoK,aAAY,WAAc,OAAOuL,GAAS,WAAc,MAAO,QAAW,IAC1FoB,EAAa/W,EAAQoK,aAEzB,SAAU4M,GAAM,OAAOrB,GAAS,SAAUhJ,GAAO,OAAOA,EAAIoD,QAAO,SAAUsG,GAAK,OAAOA,GAAKA,EAAEW,KAAOA,UAAe,IAClHC,EAAcjX,EAAQoK,aAAY,SAAU5H,GAC5C,OAAOmT,GAAS,SAAUU,GACtB,IAAIS,EAAOT,EAAEG,QAEb,OADAM,EAAK3J,OAAO3K,EAAO,GACZsU,OAEZ,IACCI,EAAalX,EAAQoK,aAAY,SAAU4M,EAAIG,GAE/C,OAAOxB,GAAS,SAAUhJ,GACtB,OAAOA,EAAItC,KAAI,SAAUgM,GAAK,OAAQA,EAAEW,KAAOA,EAAKpB,EAASA,EAAS,GAAIS,GAAIc,GAAYd,UAE/F,IACCe,EAAWpX,EAAQoK,aAAY,SAAU5H,EAAO6U,GAChD,OAAO1B,GAAS,SAAUU,GACtB,IAAI9X,EAAQ8X,EAAEG,QAEd,OADAjY,EAAMiE,GAAS6U,EACR9Y,OAEZ,IACC+Y,EAAWtX,EAAQoK,aAAY,SAAU5H,EAAO6U,GAChD,OAAO1B,GAAS,SAAUU,GACtB,IAAI9X,EAAQ8X,EAAEG,QAId,OAHAhU,EAAQjE,EAAMgH,OACPhH,EAAMiE,GAAS6U,EAChB9Y,EAAM4O,OAAO3K,EAAO,EAAG6U,GACtB9Y,OAEZ,IA4BH,MAAO,CAACA,EA3BMyB,EAAQqF,SAAQ,WAAc,MAAO,CAC/CsQ,SAAUA,EACV4B,IAAK9R,EACL6Q,QAASA,EACT7Q,KAAMA,EACNiR,KAAMA,EACNrJ,MAAOA,EACP0J,WAAYA,EACZE,YAAaA,EACbV,IAAKA,EACLE,MAAOA,EACPS,WAAYA,EACZE,SAAUA,EACVE,SAAUA,KACP,CACH7R,EACA6Q,EACAI,EACArJ,EACA0J,EACAE,EACAV,EACAE,EACAW,EACAF,EACAI,KAIR1a,EAAQwM,SAAWA,EACnBxM,EAAQqD,QAAUmJ,G,6BClGlB,IAAIwM,EAAY7P,MAAQA,KAAK6P,UAAa,WAStC,OARAA,EAAW5X,OAAO6X,QAAU,SAASrX,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIwS,UAAUhM,OAAQjI,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIkS,UAAUjU,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsW,MAAM/O,KAAMwL,YAE5B3G,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAClBqJ,EAAWuB,EAAgB,EAAQ,KACvC,SAAStB,EAAOkO,QACS,IAAjBA,IAA2BA,EAAe,IAAI/K,KAClD,IAAI9C,EAAKN,EAASpJ,QAAQuX,GAAenN,EAAMV,EAAG,GAAImM,EAAUnM,EAAG,GACnE,OAAO3J,EAAQqF,SAAQ,WAAc,OAAQuQ,EAAS,CAAErX,MAAO8L,GAAOyL,KAAc,CAACA,EAASzL,IAElGzN,EAAQ0M,OAASA,EACjB1M,EAAQqD,QAAUqJ,G,6BCvBlBtL,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GACtB,SAASsJ,EAAOkO,QACS,IAAjBA,IAA2BA,EAAe,IAAI/K,KAClD,IAAI9C,EAAK3J,EAAQkC,SAASO,MAAMC,QAAQ8U,GAAgB,IAAI/K,IAAI+K,GAAgBA,GAAenN,EAAMV,EAAG,GAAI8N,EAAS9N,EAAG,GACpHsD,EAAMjN,EAAQoK,aAAY,SAAUvL,EAAKN,GACzCkZ,GAAO,SAAUC,GAEb,OADW,IAAIjL,IAAIiL,GACPzK,IAAIpO,EAAKN,QAE1B,IACCoZ,EAAc3X,EAAQoK,aAAY,SAAUvL,GAC5C4Y,GAAO,SAAUG,GACb,IAAId,EAAO,IAAIrK,IAAImL,GAEnB,OADAd,EAAK5J,OAAOrO,GACLiY,OAEZ,IACCzJ,EAAQrN,EAAQoK,aAAY,WAC5BqN,GAAO,WAAc,OAAO,IAAIhL,SACjC,IACCoL,EAAa7X,EAAQoK,aAAY,SAAU0N,QACxB,IAAfA,IAAyBA,EAAa,IAC1CL,GAAO,WAAc,OAAO,IAAIhL,IAAIqL,QACrC,IAUH,MAAO,CAACzN,EATMrK,EAAQqF,SAAQ,WAAc,MAAO,CAC/CsQ,SAAU8B,EACVpK,MAAOA,EACPJ,IAAKA,EAEL8K,OAAQJ,EACRzK,OAAQyK,EACRE,WAAYA,KACT,CAACxK,EAAOsK,EAAaE,EAAY5K,KAG5CrQ,EAAQ0M,OAASA,EACjB1M,EAAQqD,QAAUqJ,G,6BCrClB,IAAIsB,EAAmB7E,MAAQA,KAAK6E,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAInM,WAAcmM,EAAM,CAAE,QAAWA,IAExD7M,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GAClBgY,EAAmBpN,EAAgB,EAAQ,KAC3CqN,EAA0BrN,EAAgB,EAAQ,KAClDsN,EAAoBtN,EAAgB,EAAQ,KAC5CuN,EAAcvN,EAAgB,EAAQ,KACtCwN,EAAoBxN,EAAgB,EAAQ,KAC5CyN,EAAuBzN,EAAgB,EAAQ,KAC/C0N,EAAS1N,EAAgB,EAAQ,KACjC2N,EAAkB3N,EAAgB,EAAQ,KAgF9ChO,EAAQqD,QA7ES,SAAUuY,EAASlL,GAChC,IAAImL,EAAezY,EAAQqF,SAAQ,WAC/B,OAAO5C,MAAMC,QAAQ8V,GACfA,EAAQnO,IAAI6N,EAAkBjY,SAC9B,CAACiY,EAAkBjY,QAAQuY,MAClC,CAACA,IACJxY,EAAQG,WAAU,WACd,IAAIuY,EAAe,GACfC,EAAiB,GACjBC,EAAqB,SAAUpW,GAC/BqW,aAAaF,EAAenW,KAE5BsW,EAAmB,SAAUtW,GAC7BoW,EAAmBpW,GACnBkW,EAAalW,GAAS,IAwBtBuW,EAAY,SAAUhV,IAKjBA,EAAMlF,KAAQwZ,EAAqBpY,QAAQ8D,KAGhD0U,EAAajT,SAAQ,SAAUwT,EAAW1b,GACb,IAArB0b,EAAUzT,QAhDP,MAgDuByT,EAAU,GASpCX,EAAqBpY,QAAQ8D,GA3Bf,SAAUA,EAAO4M,GACvC,IAAIsI,EAAYX,EAAOrY,QAAQ0Q,GAC3BuI,EAAUd,EAAkBnY,QAAQsY,EAAgBtY,QAAQ0Q,IAC5DwI,EAAgBlB,EAAwBhY,QAAQ8D,GAC5BoU,EAAYlY,QAAQiZ,EAASC,IAC5BpV,EAAMlF,IAAIua,gBAAkBH,GACjD3L,EAASvJ,GAsBLsV,CAAoBtV,EAAOiV,GAI3BA,EAAUzT,OAAS,IAAM8S,EAAqBpY,QAAQ8D,GA7C1C,SAAUA,EAAO4M,EAAMnO,GAC3CoW,EAAmBpW,GACnBkW,EAAalW,GAASkW,EAAalW,IAAU,GAC7CmW,EAAenW,GAASvF,OAAO+Q,YAAW,WACtC8K,EAAiBtW,KAtBN,KAwBf,IAAI8W,EAAcZ,EAAalW,GAC/B8W,EAAY7T,KAAK1B,EAAMlF,IAAIua,eACvBpB,EAAiB/X,QAAQqZ,EAAa3I,KACtCmI,EAAiBtW,GACjB8K,EAASvJ,IAoCLwV,CAAkBxV,EAAOiV,EAAW1b,GAIpCyG,EAAMlF,IAAIua,gBAAkBJ,EAAU,IACtC1L,EAASvJ,GAfTuJ,EAASvJ,OAoBrB,OADA9G,OAAOkH,iBAAiB,UAAW4U,GAAW,GACvC,WACH9b,OAAOoH,oBAAoB,UAAW0U,GAAW,MAEtD,CAACN,EAAcnL,M,6BC1FtBtP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IAQtD3B,EAAQqD,QAAU,SAAWuZ,EAAMC,GAC/B,OAAOD,EAAKjU,SAAWkU,EAAKlU,QAAUiU,EAAKjP,OAAM,SAAU8M,EAAM/Z,GAAK,OAAO+Z,IAASoC,EAAKnc,Q,6BCT/FU,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQqD,QAAU,SAAW8D,GACzB,IAAI2V,EAAY,GAahB,OAZI3V,EAAM4V,SACND,EAAUjU,KAAK,WAEf1B,EAAM6V,UACNF,EAAUjU,KAAK,YAEf1B,EAAM8V,QACNH,EAAUjU,KAAK,UAEf1B,EAAM+V,SACNJ,EAAUjU,KAAK,WAEZiU,I,6BCfX,IAAI3D,EAAkBhQ,MAAQA,KAAKgQ,gBAAmB,WAClD,IAAK,IAAI1W,EAAI,EAAG/B,EAAI,EAAG0Y,EAAKzE,UAAUhM,OAAQjI,EAAI0Y,EAAI1Y,IAAK+B,GAAKkS,UAAUjU,GAAGiI,OACxE,IAAInH,EAAIqE,MAAMpD,GAAI4W,EAAI,EAA3B,IAA8B3Y,EAAI,EAAGA,EAAI0Y,EAAI1Y,IACzC,IAAK,IAAI4Y,EAAI3E,UAAUjU,GAAI6Y,EAAI,EAAGC,EAAKF,EAAE3Q,OAAQ4Q,EAAIC,EAAID,IAAKF,IAC1D7X,EAAE6X,GAAKC,EAAEC,GACjB,OAAO/X,GAEXJ,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQqD,QAAU,SAAWuY,GACzB,IAAIuB,EAAQvB,EAAQY,cACpB,OAAqB,IAAjBW,EAAMxU,OAEC,CAACwU,GAERA,EAAMpU,SAAS,KAERoU,EAAMC,QAAQ,OAAQ,IAAIC,MAAM,KAOpClE,EAAgBgE,EAAMG,MAAM,kCAAoC,IAAK7P,KAAI,SAAUxL,GACtF,OAAOA,EAAImb,QAAQ,gBAAiB,U,6BCxB5Chc,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IAOtD3B,EAAQqD,QAAU,SAAWuZ,EAAMC,GAC/B,OAAOD,EAAKjU,SAAWkU,EAAKlU,QAAUiU,EAAKjP,OAAM,SAAU8M,GAAQ,OAAOoC,EAAK9T,SAAS0R,Q,6BCR5FrZ,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI4b,EAAgB,CAChBC,QAAS,UACT3D,MAAO,WACP4D,IAAK,SACLC,KAAM,WAEV1d,EAAQqD,QAAU,SAAW0Q,GAAQ,OAAOA,EAAKtG,KAAI,SAAU4L,GAAK,OAAOkE,EAAclE,Q,6BCPzFjY,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQqD,QAAU,SAAW8D,GACzB,OAAOA,EAAM8V,QAAU9V,EAAM4V,SAAW5V,EAAM6V,UAAY7V,EAAM+V,U,6BCFpE9b,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQqD,QAAU,SAAW0M,GAAO,OAAOA,EAAIA,EAAIpH,OAAS,K,6BCD5DvH,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQqD,QAAU,SAAW0M,GAAO,OAAOA,EAAI6J,MAAM,GAAI,K,6BCDzDxY,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyB,EAAU,EAAQ,GACtB,SAAS0J,EAAYnL,GACjB,IAAIuH,EAAM9F,EAAQoC,SAIlB,OAHApC,EAAQG,WAAU,WACd2F,EAAIjC,QAAUtF,IACf,CAACA,IACGuH,EAAIjC,QAEfjH,EAAQ8M,YAAcA,EACtB9M,EAAQqD,QAAUyJ","file":"ReactContexify.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactContexify\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactContexify\"] = factory(root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export enum ALIGNMENT {\r\n  AUTO = 'auto',\r\n  START = 'start',\r\n  CENTER = 'center',\r\n  END = 'end',\r\n}\r\n\r\nexport enum DIRECTION {\r\n  HORIZONTAL = 'horizontal',\r\n  VERTICAL = 'vertical',\r\n}\r\n\r\nexport enum SCROLL_CHANGE_REASON {\r\n  OBSERVED = 'observed',\r\n  REQUESTED = 'requested',\r\n}\r\n\r\n// export const scrollProp = {\r\n//   [DIRECTION.VERTICAL]: 'scrollTop',\r\n//   [DIRECTION.HORIZONTAL]: 'scrollLeft',\r\n// };\r\n\r\n// export const scrollProp = {\r\n//   vertical: \"scrollTop\",\r\n//   horizontal: \"scrollLeft\"\r\n// };\r\n\r\nexport enum scrollProp {\r\n  vertical = 'scrollTop',\r\n  horizontal = 'scrollLeft',\r\n}\r\n\r\n// export const sizeProp = {\r\n//   [DIRECTION.VERTICAL]: \"height\",\r\n//   [DIRECTION.HORIZONTAL]: \"width\"\r\n// };\r\n\r\n// export const sizeProp = {\r\n//   vertical: \"height\",\r\n//   horizontal: \"width\"\r\n// };\r\n\r\nexport enum sizeProp {\r\n  vertical = 'height',\r\n  horizontal = 'width',\r\n}\r\n\r\nexport const positionProp = {\r\n  [DIRECTION.VERTICAL]: 'top',\r\n  [DIRECTION.HORIZONTAL]: 'left',\r\n};\r\n\r\nexport const marginProp = {\r\n  [DIRECTION.VERTICAL]: 'marginTop',\r\n  [DIRECTION.HORIZONTAL]: 'marginLeft',\r\n};\r\n\r\nexport const oppositeMarginProp = {\r\n  [DIRECTION.VERTICAL]: 'marginBottom',\r\n  [DIRECTION.HORIZONTAL]: 'marginRight',\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useEffectOnce = function (effect) {\r\n    react_1.useEffect(effect, []);\r\n};\r\nexports.default = useEffectOnce;\r\n//# sourceMappingURL=index.js.map","import * as React from 'react';\r\nimport { useRef, useState, useEffect, useMemo, CSSProperties } from 'react';\r\n\r\nimport SizeAndPositionManager, { ItemSize } from './SizeAndPositionManager';\r\nimport {\r\n  ALIGNMENT,\r\n  DIRECTION,\r\n  SCROLL_CHANGE_REASON,\r\n  marginProp,\r\n  oppositeMarginProp,\r\n  positionProp,\r\n  scrollProp,\r\n  sizeProp,\r\n} from './constants';\r\n\r\nexport { DIRECTION as ScrollDirection } from './constants';\r\n\r\nexport type ItemPosition = 'absolute' | 'sticky';\r\n\r\nexport interface ItemStyle {\r\n  position: ItemPosition;\r\n  top?: number;\r\n  left: number;\r\n  width: string | number;\r\n  height?: number;\r\n  marginTop?: number;\r\n  marginLeft?: number;\r\n  marginRight?: number;\r\n  marginBottom?: number;\r\n  zIndex?: number;\r\n}\r\n\r\ninterface StyleCache {\r\n  [id: number]: ItemStyle;\r\n}\r\n\r\nexport interface ItemInfo {\r\n  index: number;\r\n  style: ItemStyle;\r\n}\r\n\r\nexport interface RenderedRows {\r\n  startIndex: number;\r\n  stopIndex: number;\r\n}\r\n\r\nexport interface Props {\r\n  className?: string;\r\n  estimatedItemSize?: number;\r\n  height: number | string;\r\n  itemCount: number;\r\n  itemSize: ItemSize;\r\n  overscanCount?: number;\r\n  scrollOffset?: number;\r\n  scrollToIndex?: number;\r\n  scrollToAlignment?: ALIGNMENT;\r\n  scrollDirection?: DIRECTION;\r\n  stickyIndices?: number[];\r\n  style?: React.CSSProperties;\r\n  width?: number | string;\r\n  onItemsRendered?({ startIndex, stopIndex }: RenderedRows): void;\r\n  onScroll?(offset: number, event: Event): void;\r\n  renderItem(itemInfo: ItemInfo): React.ReactNode;\r\n}\r\n\r\nexport interface State {\r\n  offset: number;\r\n  scrollChangeReason: SCROLL_CHANGE_REASON;\r\n}\r\n\r\nconst STYLE_WRAPPER: CSSProperties = {\r\n  overflow: 'auto',\r\n  willChange: 'transform',\r\n  WebkitOverflowScrolling: 'touch',\r\n};\r\n\r\nconst STYLE_INNER: CSSProperties = {\r\n  position: 'relative',\r\n  width: '100%',\r\n  minHeight: '100%',\r\n};\r\n\r\nconst STYLE_ITEM: {\r\n  position: ItemStyle['position'];\r\n  top: ItemStyle['top'];\r\n  left: ItemStyle['left'];\r\n  width: ItemStyle['width'];\r\n} = {\r\n  position: 'absolute' as ItemPosition,\r\n  top: 0,\r\n  left: 0,\r\n  width: '100%',\r\n};\r\n\r\nconst STYLE_STICKY_ITEM = {\r\n  ...STYLE_ITEM,\r\n  position: 'sticky' as ItemPosition,\r\n};\r\n\r\nexport default function VirtualList(props: Props) {\r\n  const {\r\n    estimatedItemSize,\r\n    height,\r\n    itemCount,\r\n    itemSize,\r\n    onItemsRendered,\r\n    onScroll,\r\n    overscanCount = 3,\r\n    renderItem,\r\n    scrollDirection = DIRECTION.VERTICAL,\r\n    scrollOffset,\r\n    scrollToAlignment,\r\n    scrollToIndex,\r\n    stickyIndices,\r\n    style,\r\n    width = '100%',\r\n    ...rest\r\n  } = props;\r\n\r\n  const useForceUpdate = () => {\r\n    const [, setState] = useState();\r\n    return () => setState({});\r\n  };\r\n\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  const rootNodeRef = useRef<HTMLDivElement>(null);\r\n  const styleCacheRef = useRef<StyleCache>({});\r\n\r\n  const itemCountRef = useRef(0);\r\n\r\n  const getSize = (index: number, itemSize: ItemSize) => {\r\n    if (typeof itemSize === 'function') {\r\n      return itemSize(index);\r\n    }\r\n\r\n    return Array.isArray(itemSize) ? itemSize[index] : itemSize;\r\n  };\r\n\r\n  const itemSizeGetter = (itemSize: Props['itemSize']) => {\r\n    return (index: number) => getSize(index, itemSize);\r\n  };\r\n\r\n  const getEstimatedItemSize = () => {\r\n    return (\r\n      estimatedItemSize || (typeof itemSize === 'number' && itemSize) || 50\r\n    );\r\n  };\r\n  const sizeAndPositionManager = new SizeAndPositionManager({\r\n    itemCount: itemCount,\r\n    itemSizeGetter: itemSizeGetter(itemSize),\r\n    estimatedItemSize: getEstimatedItemSize(),\r\n  });\r\n\r\n  const getOffsetForIndex = (\r\n    index: number,\r\n    newScrollToAlignment = scrollToAlignment,\r\n    newItemCount = itemCount\r\n  ): number => {\r\n    if (index < 0 || index >= newItemCount) {\r\n      index = 0;\r\n    }\r\n\r\n    return sizeAndPositionManager.getUpdatedOffsetForIndex({\r\n      align: newScrollToAlignment,\r\n      containerSize: Number(props[sizeProp[scrollDirection]]),\r\n      currentOffset: offset || 0,\r\n      targetIndex: index,\r\n    });\r\n  };\r\n\r\n  const [offset, setOffset] = useState(\r\n    scrollOffset ||\r\n      (scrollToIndex != null && getOffsetForIndex(scrollToIndex)) ||\r\n      0\r\n  );\r\n  const [scrollChangeReason, setScrollChangeReason] = useState(\r\n    SCROLL_CHANGE_REASON.REQUESTED\r\n  );\r\n\r\n  const scrollTo = (value: number) => {\r\n    if (rootNodeRef.current) {\r\n      rootNodeRef.current[scrollProp[scrollDirection]] = value;\r\n    }\r\n  };\r\n\r\n  const getNodeOffset = () => {\r\n    if (rootNodeRef.current) {\r\n      return rootNodeRef.current[scrollProp[scrollDirection]];\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  // const handleScroll = (event: Event) => {\r\n  //   const offset = getNodeOffset();\r\n\r\n  //   if (\r\n  //     offset < 0 ||\r\n  //     //   state.offset === offset ||\r\n  //     event.target !== rootNodeRef.current\r\n  //   ) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   // setState({\r\n  //   //   offset,\r\n  //   //   scrollChangeReason: SCROLL_CHANGE_REASON.OBSERVED\r\n  //   // });\r\n  //   setScrollChangeReason(SCROLL_CHANGE_REASON.OBSERVED);\r\n  //   setOffset(offset);\r\n\r\n  //   if (typeof onScroll === \"function\") {\r\n  //     onScroll(offset, event);\r\n  //   }\r\n  // };\r\n  const handleScroll = (event: Event) => {\r\n    const newOffset = getNodeOffset();\r\n\r\n    // newOffset0item\r\n    if (\r\n      newOffset < 0 ||\r\n      // newOffset === offset ||\r\n      event.target !== rootNodeRef.current\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // setState({\r\n    //   offset,\r\n    //   scrollChangeReason: SCROLL_CHANGE_REASON.OBSERVED\r\n    // });\r\n    setScrollChangeReason(SCROLL_CHANGE_REASON.OBSERVED);\r\n    setOffset(newOffset);\r\n\r\n    if (typeof onScroll === 'function') {\r\n      onScroll(newOffset, event);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (rootNodeRef.current) {\r\n      rootNodeRef.current.addEventListener('scroll', handleScroll, {\r\n        passive: true,\r\n      });\r\n    }\r\n    if (scrollOffset != null) {\r\n      scrollTo(scrollOffset);\r\n    } else if (scrollToIndex != null) {\r\n      scrollTo(getOffsetForIndex(scrollToIndex));\r\n    }\r\n    return () => {\r\n      if (rootNodeRef.current) {\r\n        rootNodeRef.current.removeEventListener('scroll', handleScroll);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const recomputeSizes = (startIndex = 0) => {\r\n    styleCacheRef.current = {};\r\n    sizeAndPositionManager.resetItem(startIndex);\r\n  };\r\n\r\n  useEffect(() => {\r\n    sizeAndPositionManager.updateConfig({\r\n      itemSizeGetter: itemSizeGetter(itemSize),\r\n    });\r\n    recomputeSizes();\r\n  }, [itemSize, recomputeSizes, itemSizeGetter, sizeAndPositionManager]);\r\n\r\n  useEffect(() => {\r\n    setScrollChangeReason(SCROLL_CHANGE_REASON.REQUESTED);\r\n    setOffset(scrollOffset || 0);\r\n  }, [scrollOffset]);\r\n\r\n  useEffect(() => {\r\n    sizeAndPositionManager.updateConfig({\r\n      itemCount,\r\n      estimatedItemSize: getEstimatedItemSize(),\r\n    });\r\n\r\n    recomputeSizes();\r\n\r\n    forceUpdate();\r\n  }, [itemCount, stickyIndices]);\r\n\r\n  useEffect(() => {\r\n    // const scrollPropsHaveChanged = true;\r\n    // const itemPropsHaveChanged = false;\r\n\r\n    if (typeof scrollToIndex === 'number') {\r\n      setOffset(getOffsetForIndex(scrollToIndex, scrollToAlignment, itemCount));\r\n      setScrollChangeReason(SCROLL_CHANGE_REASON.REQUESTED);\r\n      // setState({\r\n      //   offset: getOffsetForIndex(scrollToIndex, scrollToAlignment, itemCount),\r\n      //   scrollChangeReason: SCROLL_CHANGE_REASON.REQUESTED\r\n      // });\r\n    }\r\n  }, [scrollToIndex, scrollToAlignment]);\r\n\r\n  useEffect(() => {\r\n    if (scrollChangeReason === SCROLL_CHANGE_REASON.REQUESTED) {\r\n      scrollTo(offset);\r\n    }\r\n  }, [offset]);\r\n\r\n  const getStyle = (index: number, sticky: boolean) => {\r\n    const style = styleCacheRef.current[index];\r\n\r\n    if (style) {\r\n      return style;\r\n    }\r\n\r\n    const { size, offset } = sizeAndPositionManager.getSizeAndPositionForIndex(\r\n      index\r\n    );\r\n\r\n    return (styleCacheRef.current[index] = sticky\r\n      ? {\r\n          ...STYLE_STICKY_ITEM,\r\n          [sizeProp[scrollDirection]]: size,\r\n\r\n          // [positionProp[scrollDirection]]: offset,\r\n          [marginProp[scrollDirection]]: offset,\r\n          [oppositeMarginProp[scrollDirection]]: -(offset + size),\r\n          zIndex: 1,\r\n        }\r\n      : {\r\n          ...STYLE_ITEM,\r\n          [sizeProp[scrollDirection]]: size,\r\n          [positionProp[scrollDirection]]: offset,\r\n        });\r\n  };\r\n\r\n  if (itemCountRef.current !== itemCount) {\r\n    sizeAndPositionManager.updateConfig({\r\n      itemCount,\r\n      estimatedItemSize: getEstimatedItemSize(),\r\n    });\r\n\r\n    recomputeSizes();\r\n    itemCountRef.current = itemCount;\r\n  }\r\n  const { start, stop } = sizeAndPositionManager.getVisibleRange({\r\n    containerSize: Number(props[sizeProp[scrollDirection]]) || 0,\r\n    offset,\r\n    overscanCount,\r\n  });\r\n  // const items: React.ReactNode[] = [];\r\n\r\n  const innerStyle = {\r\n    ...STYLE_INNER,\r\n    [sizeProp[scrollDirection]]: sizeAndPositionManager.getTotalSize(),\r\n  };\r\n\r\n  const items = useMemo(() => {\r\n    const result: React.ReactNode[] = [];\r\n    if (stickyIndices != null && stickyIndices.length !== 0) {\r\n      stickyIndices.forEach((index: number) =>\r\n        result.push(\r\n          renderItem({\r\n            index,\r\n            style: getStyle(index, true),\r\n          })\r\n        )\r\n      );\r\n\r\n      if (scrollDirection === DIRECTION.HORIZONTAL) {\r\n        innerStyle.display = 'flex';\r\n      }\r\n    }\r\n\r\n    if (typeof start !== 'undefined' && typeof stop !== 'undefined') {\r\n      for (let index = start; index <= stop; index++) {\r\n        if (stickyIndices != null && stickyIndices.includes(index)) {\r\n          continue;\r\n        }\r\n\r\n        result.push(\r\n          renderItem({\r\n            index,\r\n            style: getStyle(index, false),\r\n          })\r\n        );\r\n      }\r\n\r\n      if (typeof onItemsRendered === 'function') {\r\n        onItemsRendered({\r\n          startIndex: start,\r\n          stopIndex: stop,\r\n        });\r\n      }\r\n    }\r\n    return result;\r\n  }, [\r\n    start,\r\n    stop,\r\n    getStyle,\r\n    renderItem,\r\n    scrollDirection,\r\n    innerStyle.display,\r\n    stickyIndices,\r\n    onItemsRendered,\r\n  ]);\r\n\r\n  const wrapperStyle = { ...STYLE_WRAPPER, ...style, height, width };\r\n  return (\r\n    <div ref={rootNodeRef} {...rest} style={wrapperStyle}>\r\n      <div style={innerStyle}>{items}</div>\r\n    </div>\r\n  );\r\n}\r\n","export { default as VirtualList } from './components/VirtualList';\nexport { default as VirtualListContainer } from './components/VirtualListContainer';\nexport { ItemStyle } from './components/VirtualList';\nexport { ALIGNMENT } from './components/constants';\n","import { ALIGNMENT } from './constants';\r\n\r\nexport type ItemSizeGetter = (index: number) => number;\r\nexport type ItemSize = number | number[] | ItemSizeGetter;\r\n\r\nexport interface SizeAndPosition {\r\n  size: number;\r\n  offset: number;\r\n}\r\n\r\ninterface SizeAndPositionData {\r\n  [id: number]: SizeAndPosition;\r\n}\r\n\r\nexport interface Options {\r\n  itemCount: number;\r\n  itemSizeGetter: ItemSizeGetter;\r\n  estimatedItemSize: number;\r\n}\r\n\r\nexport default class SizeAndPositionManager {\r\n  private itemSizeGetter: ItemSizeGetter;\r\n  private itemCount: number;\r\n  private estimatedItemSize: number;\r\n  private lastMeasuredIndex: number;\r\n  private itemSizeAndPositionData: SizeAndPositionData;\r\n\r\n  constructor({ itemCount, itemSizeGetter, estimatedItemSize }: Options) {\r\n    this.itemSizeGetter = itemSizeGetter;\r\n    this.itemCount = itemCount;\r\n    this.estimatedItemSize = estimatedItemSize;\r\n\r\n    // Cache of size and position data for items, mapped by item index.\r\n    this.itemSizeAndPositionData = {};\r\n\r\n    // Measurements for items up to this index can be trusted; items afterward should be estimated.\r\n    this.lastMeasuredIndex = -1;\r\n  }\r\n\r\n  updateConfig({\r\n    itemCount,\r\n    itemSizeGetter,\r\n    estimatedItemSize,\r\n  }: Partial<Options>) {\r\n    if (itemCount != null) {\r\n      this.itemCount = itemCount;\r\n    }\r\n\r\n    if (estimatedItemSize != null) {\r\n      this.estimatedItemSize = estimatedItemSize;\r\n    }\r\n\r\n    if (itemSizeGetter != null) {\r\n      this.itemSizeGetter = itemSizeGetter;\r\n    }\r\n  }\r\n\r\n  getLastMeasuredIndex() {\r\n    return this.lastMeasuredIndex;\r\n  }\r\n\r\n  /**\r\n   * This method returns the size and position for the item at the specified index.\r\n   * It just-in-time calculates (or used cached values) for items leading up to the index.\r\n   */\r\n  getSizeAndPositionForIndex(index: number) {\r\n    if (index < 0 || index >= this.itemCount) {\r\n      throw Error(\r\n        `Requested index ${index} is outside of range 0..${this.itemCount}`\r\n      );\r\n    }\r\n\r\n    if (index > this.lastMeasuredIndex) {\r\n      const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem();\r\n      let offset =\r\n        lastMeasuredSizeAndPosition.offset + lastMeasuredSizeAndPosition.size;\r\n\r\n      for (let i = this.lastMeasuredIndex + 1; i <= index; i++) {\r\n        const size = this.itemSizeGetter(i);\r\n\r\n        if (size == null || isNaN(size)) {\r\n          throw Error(`Invalid size returned for index ${i} of value ${size}`);\r\n        }\r\n\r\n        this.itemSizeAndPositionData[i] = {\r\n          offset,\r\n          size,\r\n        };\r\n\r\n        offset += size;\r\n      }\r\n\r\n      this.lastMeasuredIndex = index;\r\n    }\r\n\r\n    return this.itemSizeAndPositionData[index];\r\n  }\r\n\r\n  getSizeAndPositionOfLastMeasuredItem() {\r\n    return this.lastMeasuredIndex >= 0\r\n      ? this.itemSizeAndPositionData[this.lastMeasuredIndex]\r\n      : { offset: 0, size: 0 };\r\n  }\r\n\r\n  /**\r\n   * Total size of all items being measured.\r\n   * This value will be completedly estimated initially.\r\n   * As items as measured the estimate will be updated.\r\n   */\r\n  getTotalSize(): number {\r\n    const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem();\r\n\r\n    return (\r\n      lastMeasuredSizeAndPosition.offset +\r\n      lastMeasuredSizeAndPosition.size +\r\n      (this.itemCount - this.lastMeasuredIndex - 1) * this.estimatedItemSize\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Determines a new offset that ensures a certain item is visible, given the alignment.\r\n   *\r\n   * @param align Desired alignment within container; one of \"start\" (default), \"center\", or \"end\"\r\n   * @param containerSize Size (width or height) of the container viewport\r\n   * @return Offset to use to ensure the specified item is visible\r\n   */\r\n  getUpdatedOffsetForIndex({\r\n    align = ALIGNMENT.START,\r\n    containerSize,\r\n    currentOffset,\r\n    targetIndex,\r\n  }: {\r\n    align: ALIGNMENT | undefined;\r\n    containerSize: number;\r\n    currentOffset: number;\r\n    targetIndex: number;\r\n  }): number {\r\n    if (containerSize <= 0) {\r\n      return 0;\r\n    }\r\n\r\n    const datum = this.getSizeAndPositionForIndex(targetIndex);\r\n    const maxOffset = datum.offset;\r\n    const minOffset = maxOffset - containerSize + datum.size;\r\n\r\n    let idealOffset;\r\n\r\n    switch (align) {\r\n      case ALIGNMENT.END:\r\n        idealOffset = minOffset;\r\n        break;\r\n      case ALIGNMENT.CENTER:\r\n        idealOffset = maxOffset - (containerSize - datum.size) / 2;\r\n        break;\r\n      case ALIGNMENT.START:\r\n        idealOffset = maxOffset;\r\n        break;\r\n      default:\r\n        idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\r\n    }\r\n\r\n    const totalSize = this.getTotalSize();\r\n\r\n    return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\r\n  }\r\n\r\n  getVisibleRange({\r\n    containerSize,\r\n    offset,\r\n    overscanCount,\r\n  }: {\r\n    containerSize: number;\r\n    offset: number;\r\n    overscanCount: number;\r\n  }): { start?: number; stop?: number } {\r\n    const totalSize = this.getTotalSize();\r\n\r\n    if (totalSize === 0) {\r\n      return {};\r\n    }\r\n\r\n    const maxOffset = offset + containerSize;\r\n    let start = this.findNearestItem(offset);\r\n\r\n    if (typeof start === 'undefined') {\r\n      throw Error(`Invalid offset ${offset} specified`);\r\n    }\r\n\r\n    const datum = this.getSizeAndPositionForIndex(start);\r\n    offset = datum.offset + datum.size;\r\n\r\n    let stop = start;\r\n\r\n    while (offset < maxOffset && stop < this.itemCount - 1) {\r\n      stop++;\r\n      offset += this.getSizeAndPositionForIndex(stop).size;\r\n    }\r\n\r\n    if (overscanCount) {\r\n      start = Math.max(0, start - overscanCount);\r\n      stop = Math.min(stop + overscanCount, this.itemCount - 1);\r\n    }\r\n\r\n    return {\r\n      start,\r\n      stop,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Clear all cached values for items after the specified index.\r\n   * This method should be called for any item that has changed its size.\r\n   * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionForIndex() is called.\r\n   */\r\n  resetItem(index: number) {\r\n    this.lastMeasuredIndex = Math.min(this.lastMeasuredIndex, index - 1);\r\n  }\r\n\r\n  /**\r\n   * Searches for the item (index) nearest the specified offset.\r\n   *\r\n   * If no exact match is found the next lowest item index will be returned.\r\n   * This allows partially visible items (with offsets just before/above the fold) to be visible.\r\n   */\r\n  findNearestItem(offset: number) {\r\n    if (isNaN(offset)) {\r\n      throw Error(`Invalid offset ${offset} specified`);\r\n    }\r\n\r\n    // Our search algorithms find the nearest match at or below the specified offset.\r\n    // So make sure the offset is at least 0 or no match will be found.\r\n    offset = Math.max(0, offset);\r\n\r\n    const lastMeasuredSizeAndPosition = this.getSizeAndPositionOfLastMeasuredItem();\r\n    const lastMeasuredIndex = Math.max(0, this.lastMeasuredIndex);\r\n\r\n    if (lastMeasuredSizeAndPosition.offset >= offset) {\r\n      // If we've already measured items within this range just use a binary search as it's faster.\r\n      return this.binarySearch({\r\n        high: lastMeasuredIndex,\r\n        low: 0,\r\n        offset,\r\n      });\r\n    } else {\r\n      // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\r\n      // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\r\n      // The overall complexity for this approach is O(log n).\r\n      return this.exponentialSearch({\r\n        index: lastMeasuredIndex,\r\n        offset,\r\n      });\r\n    }\r\n  }\r\n\r\n  private binarySearch({\r\n    low,\r\n    high,\r\n    offset,\r\n  }: {\r\n    low: number;\r\n    high: number;\r\n    offset: number;\r\n  }) {\r\n    let middle = 0;\r\n    let currentOffset = 0;\r\n\r\n    while (low <= high) {\r\n      middle = low + Math.floor((high - low) / 2);\r\n      currentOffset = this.getSizeAndPositionForIndex(middle).offset;\r\n\r\n      if (currentOffset === offset) {\r\n        return middle;\r\n      } else if (currentOffset < offset) {\r\n        low = middle + 1;\r\n      } else if (currentOffset > offset) {\r\n        high = middle - 1;\r\n      }\r\n    }\r\n\r\n    if (low > 0) {\r\n      return low - 1;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  private exponentialSearch({\r\n    index,\r\n    offset,\r\n  }: {\r\n    index: number;\r\n    offset: number;\r\n  }) {\r\n    let interval = 1;\r\n\r\n    while (\r\n      index < this.itemCount &&\r\n      this.getSizeAndPositionForIndex(index).offset < offset\r\n    ) {\r\n      index += interval;\r\n      interval *= 2;\r\n    }\r\n\r\n    return this.binarySearch({\r\n      high: Math.min(index, this.itemCount - 1),\r\n      low: Math.floor(index / 2),\r\n      offset,\r\n    });\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { useRef } from 'react';\r\nimport { ItemSize } from './SizeAndPositionManager';\r\nimport { ALIGNMENT, DIRECTION } from './constants';\r\n\r\nexport { DIRECTION as ScrollDirection } from './constants';\r\n\r\nexport type ItemPosition = 'absolute' | 'sticky';\r\n\r\nexport interface ItemStyle {\r\n  position: ItemPosition;\r\n  top?: number;\r\n  left: number;\r\n  width: string | number;\r\n  height?: number;\r\n  marginTop?: number;\r\n  marginLeft?: number;\r\n  marginRight?: number;\r\n  marginBottom?: number;\r\n  zIndex?: number;\r\n}\r\n\r\nexport interface ItemInfo {\r\n  index: number;\r\n  style: ItemStyle;\r\n}\r\n\r\nexport interface RenderedRows {\r\n  startIndex: number;\r\n  stopIndex: number;\r\n}\r\nimport { useResizeObserver } from '@ishikawa_masashi/react-hooks';\r\nimport VirtualList from './VirtualList';\r\n\r\nexport interface Props {\r\n  className?: string;\r\n  estimatedItemSize?: number;\r\n  itemCount: number;\r\n  itemSize: ItemSize;\r\n  overscanCount?: number;\r\n  scrollOffset?: number;\r\n  scrollToIndex?: number;\r\n  scrollToAlignment?: ALIGNMENT;\r\n  scrollDirection?: DIRECTION;\r\n  stickyIndices?: number[];\r\n  style?: React.CSSProperties;\r\n  onItemsRendered?({ startIndex, stopIndex }: RenderedRows): void;\r\n  onScroll?(offset: number, event: Event): void;\r\n  renderItem(itemInfo: ItemInfo): React.ReactNode;\r\n}\r\n\r\nexport default function VirtualListContainer(props: Props) {\r\n  const fillStyle = { width: '100%', height: '100%' };\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [width, height] = useResizeObserver(containerRef);\r\n\r\n  return (\r\n    <div style={fillStyle} ref={containerRef}>\r\n      <VirtualList width={width} height={height} {...props} />\r\n    </div>\r\n  );\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar index_1 = require(\"./useActive/index\");\r\nexports.useActive = index_1.default;\r\nvar index_2 = require(\"./useClickOutside/index\");\r\nexports.useClickOutside = index_2.default;\r\nvar index_3 = require(\"./useFocus/index\");\r\nexports.useFocus = index_3.default;\r\nvar index_4 = require(\"./useHover/index\");\r\nexports.useHover = index_4.default;\r\nvar index_5 = require(\"./useMousePosition/index\");\r\nexports.useMousePosition = index_5.default;\r\nvar index_6 = require(\"./useResizeObserver/index\");\r\nexports.useResizeObserver = index_6.default;\r\nvar index_7 = require(\"./useTouch/index\");\r\nexports.useTouch = index_7.default;\r\nvar index_8 = require(\"./useWindowResize/index\");\r\nexports.useWindowResize = index_8.default;\r\nvar index_9 = require(\"./useEffectOnce/index\");\r\nexports.useEffectOnce = index_9.default;\r\nvar index_10 = require(\"./useMount/index\");\r\nexports.useMount = index_10.default;\r\nvar index_11 = require(\"./useUnmount/index\");\r\nexports.useUnmount = index_11.default;\r\nvar useStateful_1 = require(\"./useStateful\");\r\nexports.useStateful = useStateful_1.default;\r\nvar useArray_1 = require(\"./useArray\");\r\nexports.useArray = useArray_1.default;\r\nvar useMap_1 = require(\"./useMap\");\r\nexports.useMap = useMap_1.default;\r\nvar useHotkeys_1 = require(\"./useHotkeys\");\r\nexports.useHotkeys = useHotkeys_1.default;\r\nvar usePrevious_1 = require(\"./usePrevious\");\r\nexports.usePrevious = usePrevious_1.default;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useActive() {\r\n    var _a = react_1.useState(false), isActive = _a[0], setActive = _a[1];\r\n    var bind = react_1.useMemo(function () { return ({\r\n        onMouseDown: function (e) { return void setActive(true); },\r\n        onMouseUp: function (e) { return void setActive(false); },\r\n    }); }, []);\r\n    return [isActive, bind];\r\n}\r\nexports.default = useActive;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useClickOutside(refs, onClickOutside) {\r\n    var _a = react_1.useState(false), isActive = _a[0], setActive = _a[1];\r\n    var isOutside = react_1.useCallback(function (e) {\r\n        var test = refs.map(function (ref) {\r\n            return (ref.current !== null && !ref.current.contains(e.target));\r\n        });\r\n        return test.every(Boolean);\r\n    }, [refs]);\r\n    var mousedown = react_1.useCallback(function (e) {\r\n        if (isOutside(e)) {\r\n            setActive(true);\r\n            onClickOutside(e);\r\n        }\r\n    }, [isOutside, onClickOutside]);\r\n    var mouseup = react_1.useCallback(function (e) {\r\n        if (isOutside(e)) {\r\n            setActive(false);\r\n        }\r\n    }, [isOutside]);\r\n    react_1.useEffect(function () {\r\n        document.addEventListener('mousedown', mousedown);\r\n        document.addEventListener('mouseup', mouseup);\r\n        return function () {\r\n            document.removeEventListener('mousedown', mousedown);\r\n            document.removeEventListener('mouseup', mouseup);\r\n        };\r\n    }, [refs, onClickOutside]);\r\n    return [isActive];\r\n}\r\nexports.default = useClickOutside;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useFocus() {\r\n    var _a = react_1.default.useState(false), isFocused = _a[0], setFocused = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onFocus: function (e) { return void setFocused(true); },\r\n        onBlur: function (e) { return void setFocused(false); },\r\n    }); }, []);\r\n    return [isFocused, bind];\r\n}\r\nexports.default = useFocus;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useHover() {\r\n    var _a = react_1.default.useState(false), isHovered = _a[0], setHovered = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onMouseEnter: function (e) { return void setHovered(true); },\r\n        onMouseLeave: function (e) { return void setHovered(false); },\r\n    }); }, []);\r\n    return [isHovered, bind];\r\n}\r\nexports.default = useHover;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useMousePosition() {\r\n    var _a = react_1.useState(0), x = _a[0], setX = _a[1];\r\n    var _b = react_1.useState(0), y = _b[0], setY = _b[1];\r\n    var bind = react_1.useMemo(function () { return ({\r\n        onMouseMove: function (e) {\r\n            setX(e.nativeEvent.offsetX);\r\n            setY(e.nativeEvent.offsetY);\r\n        },\r\n    }); }, []);\r\n    return [x, y, bind];\r\n}\r\nexports.default = useMousePosition;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar resize_observer_polyfill_1 = __importDefault(require(\"resize-observer-polyfill\"));\r\nfunction useResizeObserver(ref) {\r\n    var _a = react_1.useState(0), width = _a[0], setWidth = _a[1];\r\n    var _b = react_1.useState(0), height = _b[0], setHeight = _b[1];\r\n    react_1.useLayoutEffect(function () {\r\n        var resizeObserver = new resize_observer_polyfill_1.default(function (entries) {\r\n            setWidth(entries[0].contentRect.width);\r\n            setHeight(entries[0].contentRect.height);\r\n        });\r\n        if (ref.current !== null) {\r\n            resizeObserver.observe(ref.current);\r\n        }\r\n        return function () { return void resizeObserver.disconnect(); };\r\n    }, [ref]);\r\n    return [width, height];\r\n}\r\nexports.default = useResizeObserver;\r\n//# sourceMappingURL=index.js.map","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useTouch() {\r\n    var _a = react_1.default.useState(false), isTouched = _a[0], setTouched = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onTouchStart: function (e) { return void setTouched(true); },\r\n        onTouchEnd: function (e) { return void setTouched(false); },\r\n    }); }, []);\r\n    return [isTouched, bind];\r\n}\r\nexports.default = useTouch;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useWindowResize() {\r\n    var _a = react_1.default.useState(window.innerWidth), width = _a[0], setWidth = _a[1];\r\n    var _b = react_1.default.useState(window.innerHeight), height = _b[0], setHeight = _b[1];\r\n    var resize = react_1.default.useCallback(function () {\r\n        setWidth(window.innerWidth);\r\n        setHeight(window.innerHeight);\r\n    }, []);\r\n    react_1.default.useEffect(function () {\r\n        window.addEventListener('resize', resize);\r\n        return function () { return void window.removeEventListener('resize', resize); };\r\n    }, [resize]);\r\n    return [width, height];\r\n}\r\nexports.default = useWindowResize;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar useEffectOnce_1 = __importDefault(require(\"../useEffectOnce\"));\r\nvar useMount = function (fn) {\r\n    useEffectOnce_1.default(function () {\r\n        fn();\r\n    });\r\n};\r\nexports.default = useMount;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useEffectOnce_1 = __importDefault(require(\"../useEffectOnce\"));\r\nvar useUnmount = function (fn) {\r\n    var fnRef = react_1.useRef(fn);\r\n    // update the ref each render so if it change the newest callback will be invoked\r\n    fnRef.current = fn;\r\n    useEffectOnce_1.default(function () { return function () { return fnRef.current(); }; });\r\n};\r\nexports.default = useUnmount;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useStateful(initial) {\r\n    var _a = react_1.useState(initial), value = _a[0], setValue = _a[1];\r\n    return react_1.useMemo(function () { return ({\r\n        value: value,\r\n        setValue: setValue,\r\n    }); }, [value]);\r\n}\r\nexports.useStateful = useStateful;\r\nexports.default = useStateful;\r\n//# sourceMappingURL=useStateful.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useArray_1 = __importDefault(require(\"./array/useArray\"));\r\nfunction useArray(initial) {\r\n    var _a = useArray_1.default(initial), value = _a[0], actions = _a[1];\r\n    return react_1.useMemo(function () { return (__assign({ value: value }, actions)); }, [actions, value]);\r\n}\r\nexports.useArray = useArray;\r\nexports.default = useArray;\r\n//# sourceMappingURL=useArray.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useArray(initial) {\r\n    var _a = react_1.useState(initial), value = _a[0], setValue = _a[1];\r\n    var push = react_1.useCallback(function (a) {\r\n        setValue(function (v) { return __spreadArrays(v, (Array.isArray(a) ? a : [a])); });\r\n    }, []);\r\n    var unshift = react_1.useCallback(function (a) { return setValue(function (v) { return __spreadArrays((Array.isArray(a) ? a : [a]), v); }); }, []);\r\n    var pop = react_1.useCallback(function () { return setValue(function (v) { return v.slice(0, -1); }); }, []);\r\n    var shift = react_1.useCallback(function () { return setValue(function (v) { return v.slice(1); }); }, []);\r\n    var move = react_1.useCallback(function (from, to) {\r\n        return setValue(function (it) {\r\n            var copy = it.slice();\r\n            copy.splice(to < 0 ? copy.length + to : to, 0, copy.splice(from, 1)[0]);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var clear = react_1.useCallback(function () { return setValue(function () { return []; }); }, []);\r\n    var removeById = react_1.useCallback(\r\n    // @ts-ignore not every array that you will pass down will have object with id field.\r\n    function (id) { return setValue(function (arr) { return arr.filter(function (v) { return v && v.id !== id; }); }); }, []);\r\n    var removeIndex = react_1.useCallback(function (index) {\r\n        return setValue(function (v) {\r\n            var copy = v.slice();\r\n            copy.splice(index, 1);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var modifyById = react_1.useCallback(function (id, newValue) {\r\n        // @ts-ignore not every array that you will pass down will have object with id field.\r\n        return setValue(function (arr) {\r\n            return arr.map(function (v) { return (v.id === id ? __assign(__assign({}, v), newValue) : v); });\r\n        });\r\n    }, []);\r\n    var updateAt = react_1.useCallback(function (index, item) {\r\n        return setValue(function (v) {\r\n            var value = v.slice();\r\n            value[index] = item;\r\n            return value;\r\n        });\r\n    }, []);\r\n    var insertAt = react_1.useCallback(function (index, item) {\r\n        return setValue(function (v) {\r\n            var value = v.slice();\r\n            index > value.length\r\n                ? (value[index] = item)\r\n                : value.splice(index, 0, item);\r\n            return value;\r\n        });\r\n    }, []);\r\n    var actions = react_1.useMemo(function () { return ({\r\n        setValue: setValue,\r\n        add: push,\r\n        unshift: unshift,\r\n        push: push,\r\n        move: move,\r\n        clear: clear,\r\n        removeById: removeById,\r\n        removeIndex: removeIndex,\r\n        pop: pop,\r\n        shift: shift,\r\n        modifyById: modifyById,\r\n        updateAt: updateAt,\r\n        insertAt: insertAt,\r\n    }); }, [\r\n        push,\r\n        unshift,\r\n        move,\r\n        clear,\r\n        removeById,\r\n        removeIndex,\r\n        pop,\r\n        shift,\r\n        updateAt,\r\n        modifyById,\r\n        insertAt,\r\n    ]);\r\n    return [value, actions];\r\n}\r\nexports.useArray = useArray;\r\nexports.default = useArray;\r\n//# sourceMappingURL=useArray.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useMap_1 = __importDefault(require(\"./array/useMap\"));\r\nfunction useMap(initialState) {\r\n    if (initialState === void 0) { initialState = new Map(); }\r\n    var _a = useMap_1.default(initialState), map = _a[0], actions = _a[1];\r\n    return react_1.useMemo(function () { return (__assign({ value: map }, actions)); }, [actions, map]);\r\n}\r\nexports.useMap = useMap;\r\nexports.default = useMap;\r\n//# sourceMappingURL=useMap.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useMap(initialState) {\r\n    if (initialState === void 0) { initialState = new Map(); }\r\n    var _a = react_1.useState(Array.isArray(initialState) ? new Map(initialState) : initialState), map = _a[0], setMap = _a[1];\r\n    var set = react_1.useCallback(function (key, value) {\r\n        setMap(function (aMap) {\r\n            var copy = new Map(aMap);\r\n            return copy.set(key, value);\r\n        });\r\n    }, []);\r\n    var deleteByKey = react_1.useCallback(function (key) {\r\n        setMap(function (_map) {\r\n            var copy = new Map(_map);\r\n            copy.delete(key);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var clear = react_1.useCallback(function () {\r\n        setMap(function () { return new Map(); });\r\n    }, []);\r\n    var initialize = react_1.useCallback(function (mapOrTuple) {\r\n        if (mapOrTuple === void 0) { mapOrTuple = []; }\r\n        setMap(function () { return new Map(mapOrTuple); });\r\n    }, []);\r\n    var actions = react_1.useMemo(function () { return ({\r\n        setValue: setMap,\r\n        clear: clear,\r\n        set: set,\r\n        // TODO: To be removed in the next major release\r\n        remove: deleteByKey,\r\n        delete: deleteByKey,\r\n        initialize: initialize,\r\n    }); }, [clear, deleteByKey, initialize, set]);\r\n    return [map, actions];\r\n}\r\nexports.useMap = useMap;\r\nexports.default = useMap;\r\n//# sourceMappingURL=useMap.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar arraysAreEqual_1 = __importDefault(require(\"./helpers/arraysAreEqual\"));\r\nvar getActiveModifierKeys_1 = __importDefault(require(\"./helpers/getActiveModifierKeys\"));\r\nvar getHotkeysArray_1 = __importDefault(require(\"./helpers/getHotkeysArray\"));\r\nvar isSameSet_1 = __importDefault(require(\"./helpers/isSameSet\"));\r\nvar mapModifierKeys_1 = __importDefault(require(\"./helpers/mapModifierKeys\"));\r\nvar modifierKeyPressed_1 = __importDefault(require(\"./helpers/modifierKeyPressed\"));\r\nvar tail_1 = __importDefault(require(\"./helpers/tail\"));\r\nvar takeUntilLast_1 = __importDefault(require(\"./helpers/takeUntilLast\"));\r\nvar KEY_SEQUENCE_TIMEOUT = 1000;\r\nvar ESCAPE_HATCH_KEY = '*';\r\nvar useHotkeys = function (hotkeys, callback) {\r\n    var hotkeysArray = react_1.useMemo(function () {\r\n        return Array.isArray(hotkeys)\r\n            ? hotkeys.map(getHotkeysArray_1.default)\r\n            : [getHotkeysArray_1.default(hotkeys)];\r\n    }, [hotkeys]);\r\n    react_1.useEffect(function () {\r\n        var keySequences = {};\r\n        var sequenceTimers = {};\r\n        var clearSequenceTimer = function (index) {\r\n            clearTimeout(sequenceTimers[index]);\r\n        };\r\n        var resetKeySequence = function (index) {\r\n            clearSequenceTimer(index);\r\n            keySequences[index] = [];\r\n        };\r\n        var handleKeySequence = function (event, keys, index) {\r\n            clearSequenceTimer(index);\r\n            keySequences[index] = keySequences[index] || [];\r\n            sequenceTimers[index] = window.setTimeout(function () {\r\n                resetKeySequence(index);\r\n            }, KEY_SEQUENCE_TIMEOUT);\r\n            var keySequence = keySequences[index];\r\n            keySequence.push(event.key.toLowerCase());\r\n            if (arraysAreEqual_1.default(keySequence, keys)) {\r\n                resetKeySequence(index);\r\n                callback(event);\r\n            }\r\n        };\r\n        var handleModifierCombo = function (event, keys) {\r\n            var actionKey = tail_1.default(keys);\r\n            var modKeys = mapModifierKeys_1.default(takeUntilLast_1.default(keys));\r\n            var activeModKeys = getActiveModifierKeys_1.default(event);\r\n            var allModKeysPressed = isSameSet_1.default(modKeys, activeModKeys);\r\n            if (allModKeysPressed && event.key.toLowerCase() === actionKey) {\r\n                callback(event);\r\n            }\r\n        };\r\n        var onKeydown = function (event) {\r\n            /**\r\n             * Chrome autocomplete triggers `keydown` event but event.key will be undefined.\r\n             * See https://bugs.chromium.org/p/chromium/issues/detail?id=581537.\r\n             */\r\n            if (!event.key && !modifierKeyPressed_1.default(event)) {\r\n                return;\r\n            }\r\n            hotkeysArray.forEach(function (keysArray, i) {\r\n                if (keysArray.length === 1 && keysArray[0] === ESCAPE_HATCH_KEY) {\r\n                    /**\r\n                     * Provide escape hatch should the user want to perform\r\n                     * some custom logic not supported by the API.\r\n                     */\r\n                    callback(event);\r\n                    return;\r\n                }\r\n                // Handle modifier key combos\r\n                if (modifierKeyPressed_1.default(event)) {\r\n                    handleModifierCombo(event, keysArray);\r\n                    return;\r\n                }\r\n                // Handle key sequences\r\n                if (keysArray.length > 1 && !modifierKeyPressed_1.default(event)) {\r\n                    handleKeySequence(event, keysArray, i);\r\n                    return;\r\n                }\r\n                // Handle the basic case; a single hotkey\r\n                if (event.key.toLowerCase() === keysArray[0]) {\r\n                    callback(event);\r\n                }\r\n            });\r\n        };\r\n        window.addEventListener('keydown', onKeydown, true);\r\n        return function () {\r\n            window.removeEventListener('keydown', onKeydown, true);\r\n        };\r\n    }, [hotkeysArray, callback]);\r\n};\r\nexports.default = useHotkeys;\r\n//# sourceMappingURL=useHotkeys.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Check if two arrays contain the same items.\r\n * Items *must* be in the same order.\r\n *\r\n *   arraysEqual([1, 2, 3], [3, 2, 1]) // false\r\n *   arraysEqual([1, 2, 3], [1, 2, 3]) // true\r\n */\r\nexports.default = (function (arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (item, i) { return item === arr2[i]; });\r\n});\r\n//# sourceMappingURL=arraysAreEqual.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (event) {\r\n    var modifiers = [];\r\n    if (event.ctrlKey) {\r\n        modifiers.push('ctrlKey');\r\n    }\r\n    if (event.shiftKey) {\r\n        modifiers.push('shiftKey');\r\n    }\r\n    if (event.altKey) {\r\n        modifiers.push('altKey');\r\n    }\r\n    if (event.metaKey) {\r\n        modifiers.push('metaKey');\r\n    }\r\n    return modifiers;\r\n});\r\n//# sourceMappingURL=getActiveModifierKeys.js.map","\"use strict\";\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (hotkeys) {\r\n    var hkeys = hotkeys.toLowerCase();\r\n    if (hkeys.length === 1) {\r\n        // We're dealing with a single key\r\n        return [hkeys];\r\n    }\r\n    if (hkeys.includes('+')) {\r\n        // We're dealing with a modifier-key combination\r\n        return hkeys.replace(/\\s+/g, '').split('+');\r\n    }\r\n    /**\r\n     * We're dealing with a key sequence, so split on spaces.\r\n     * If the whitespace character is within quotation marks (\" \" or ' ')\r\n     * it signifies a space key and not a delimeter.\r\n     */\r\n    return __spreadArrays((hkeys.match(/[^\\s\"']+|\"([^\"]*)\"|'([^']*)'/g) || [])).map(function (key) {\r\n        return key.replace(/(\"|').*?(\"|')/, ' ');\r\n    });\r\n});\r\n//# sourceMappingURL=getHotkeysArray.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Check if two arrays contain the same items.\r\n * Items do *not* need to be in the same order.\r\n *\r\n *   isSameSet([1, 2, 3], [3, 2, 1]) // true\r\n */\r\nexports.default = (function (arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (item) { return arr2.includes(item); });\r\n});\r\n//# sourceMappingURL=isSameSet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar modiferKeyMap = {\r\n    control: 'ctrlKey',\r\n    shift: 'shiftKey',\r\n    alt: 'altKey',\r\n    meta: 'metaKey',\r\n};\r\nexports.default = (function (keys) { return keys.map(function (k) { return modiferKeyMap[k]; }); });\r\n//# sourceMappingURL=mapModifierKeys.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (event) {\r\n    return event.altKey || event.ctrlKey || event.shiftKey || event.metaKey;\r\n});\r\n//# sourceMappingURL=modifierKeyPressed.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (arr) { return arr[arr.length - 1]; });\r\n//# sourceMappingURL=tail.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (arr) { return arr.slice(0, -1); });\r\n//# sourceMappingURL=takeUntilLast.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction usePrevious(value) {\r\n    var ref = react_1.useRef();\r\n    react_1.useEffect(function () {\r\n        ref.current = value;\r\n    }, [value]);\r\n    return ref.current;\r\n}\r\nexports.usePrevious = usePrevious;\r\nexports.default = usePrevious;\r\n//# sourceMappingURL=usePrevious.js.map"],"sourceRoot":""}